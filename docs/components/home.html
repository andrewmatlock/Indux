<h1>Home</h1>

<template data-head>
    <script>
        console.log('üîÑ Home page script loaded');
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üè† Home page initialized');
        });
    </script>
</template>

<div>
    <!-- URL Queries -->
    <h4 class="!mt-6">URL Queries</h4>
    <div x-data="{ 
    init() {
        // Watch for query changes
        document.addEventListener('query-updated', (e) => {
            console.log('Query updated:', e.detail);
        });
    }
  }" class="col gap-4">
        <!-- Single Value Examples -->
        <div class="col gap-2">
            <h5>Single Values</h5>
            <div class="row gap-2">
                <button @click="$query.status.set('active')">Set Status: Active</button>
                <button @click="$query.status.set('inactive')">Set Status: Inactive</button>
                <button @click="$query.status.clear()">Clear Status</button>
                <span>Current: <span x-text="$query.status.value || 'none'"></span></span>
            </div>
        </div>

        <!-- Array Value Examples -->
        <div class="col gap-2">
            <h5>Array Values</h5>
            <div class="row gap-2">
                <button @click="$query.tags.add('featured')">Add Tag: Featured</button>
                <button @click="$query.tags.add('new')">Add Tag: New</button>
                <button @click="$query.tags.add(['urgent', 'important'])">Add Multiple Tags</button>
                <button @click="$query.tags.remove('featured')">Remove Tag: Featured</button>
                <button @click="$query.tags.clear()">Clear All Tags</button>
                <span>Current: <span x-text="$query.tags.value?.join(', ') || 'none'"></span></span>
            </div>
        </div>

        <!-- Select Element Example -->
        <div class="col gap-2">
            <h5>Select Element</h5>
            <select x-model="$query.filter.value" class="p-2 border rounded">
                <option value="">All</option>
                <option value="featured">Featured</option>
                <option value="new">New</option>
                <option value="urgent">Urgent</option>
            </select>
        </div>

        <!-- Multiple Parameters Example -->
        <div class="col gap-2">
            <h5>Multiple Parameters</h5>
            <div class="row gap-2">
                <button @click="$query.page.set(1)">Page 1</button>
                <button @click="$query.page.set(2)">Page 2</button>
                <button @click="$query.sort.set('name')">Sort by Name</button>
                <button @click="$query.sort.set('date')">Sort by Date</button>
                <button @click="$query.direction.set('asc')">Ascending</button>
                <button @click="$query.direction.set('desc')">Descending</button>
            </div>
            <div class="row gap-4">
                <span>Page: <span x-text="$query.page.value || '1'"></span></span>
                <span>Sort: <span x-text="$query.sort.value || 'none'"></span></span>
                <span>Direction: <span x-text="$query.direction.value || 'none'"></span></span>
            </div>
        </div>

        <!-- Current URL State -->
        <div class="col gap-2">
            <h5>Current URL State</h5>
            <pre x-text="JSON.stringify($store.queries.current, null, 2)"></pre>
        </div>
    </div>

    <!-- Collections -->
    <h4 class="!mt-6">Collections</h4>
    <div class="col gap-4" x-data>
        <div x-text="$x.blog.posts[0].title"></div>
        <div x-text="$x.blog.posts[1].title"></div>
    </div>

    <!-- Localization -->
    <h4 class="!mt-6">Localization</h4>
    <div class="col gap-4" x-data>
        <!-- Current Locale -->
        <div class="row items-center gap-2">
            <p>Current Locale: <span x-text="$locale.current"></span></p>
            <p>Available Locales: <span x-text="$locale.available.join(', ')"></span></p>
        </div>

        <!-- Locale Switcher -->
        <div class="row items-center gap-2">
            <button @click="$locale.toggle()">Toggle Locale</button>
            <template x-for="lang in $locale.available" :key="lang">
                <button @click="$locale.set(lang)" :class="{ 'bg-primary text-white': $locale.current === lang }">
                    <span x-text="lang.toUpperCase()"></span>
                </button>
            </template>
        </div>

        <!-- Locale Change Event -->
        <div class="row items-center gap-2" x-data="{ lastChange: null }" @localechange.window="lastChange = $event.detail.locale">
            <p>Last Locale Change: <span x-text="lastChange || 'None'"></span></p>
        </div>

        <!-- Localized Pricing -->
        <div class="col gap-4 mt-4">
            <h5>Localized Pricing Plans</h5>
            <div class="row gap-4">
                <template x-for="plan in $x.pricing.plans" :key="plan.name">
                    <div class="col gap-2 p-4 bg-surface-2 rounded">
                        <h6 x-text="plan.name"></h6>
                        <p x-text="plan.price"></p>
                        <ul class="col gap-1">
                            <template x-for="feature in plan.features" :key="feature">
                                <li x-text="feature"></li>
                            </template>
                        </ul>
                    </div>
                </template>
            </div>
        </div>
    </div>

    <!-- Color Modes -->
    <h4 class="!mt-6">Color Modes</h4>
    <div class="row items-center gap-1" x-data>
        <button x-theme="'light'">Light Mode</button>
        <button x-theme="'dark'">Dark Mode</button>
        <button x-theme="'system'">System Mode</button>
        <button x-theme="'toggle'">Toggle Theme</button>
        <p>Theme: <span x-text="$theme.current"></span></p>
    </div>

    <!-- Markdown -->
    <h4 class="!mt-6">Markdown</h4>
    <div class="row items-center gap-4">
        <div x-markdown>###### Inline Text Content</div>
        <div x-markdown="`###### Template Literal`"></div>
        <div class="row items-center gap-2" x-data="{ content: '###### Prior Content' }">
            <button @click="content = '###### Dynamic Content'">Update</button>
            <p x-markdown="content"></p>
        </div>
    </div>

    <!-- Dropdowns -->
    <h4 class="!mt-6">Dropdown</h4>
    <div class="row items-center gap-1">
        <button x-dropdown="dropdown-menu">Open</button>
        <button x-dropdown.hover="hover-menu">Open on Hover</button>
        <button x-dropdown.hover="nested-menu">Nested Menu</button>
        <button x-dropdown.top.right="top-right-menu">Top Right</button>
        <button x-dropdown.bottom.start="bottom-start-menu">Bottom Start</button>
        <button x-dropdown.left.end="left-end-menu">Left End</button>
    </div>

    <menu popover id="dropdown-menu">
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
    </menu>
    <menu popover id="hover-menu">
        <li>Hover Item 1</li>
        <li>Hover Item 2</li>
        <li>Hover Item 3</li>
    </menu>
    <menu popover id="nested-menu">
        <li>Nested Item 1</li>
        <button x-dropdown.hover="nested-menu-2">Open Nested Menu</button>
        <li>Nested Item 3</li>
        <menu popover id="nested-menu-2">
            <li>Nested Item 1</li>
            <li>Nested Item 2</li>
            <button x-dropdown.hover="nested-menu-3">Open Nested Menu</button>
            <menu popover id="nested-menu-3">
                <li>Nested Item 1</li>
                <li>Nested Item 2</li>
                <li>Nested Item 3</li>
            </menu>
        </menu>
    </menu>
    <menu popover id="top-right-menu">
        <li>Top Right Item 1</li>
        <li>Top Right Item 2</li>
        <li>Top Right Item 3</li>
    </menu>
    <menu popover id="bottom-start-menu">
        <li>Bottom Start Item 1</li>
        <li>Bottom Start Item 2</li>
        <li>Bottom Start Item 3</li>
    </menu>
    <menu popover id="left-end-menu">
        <li>Left End Item 1</li>
        <li>Left End Item 2</li>
        <li>Left End Item 3</li>
    </menu>

    <!-- Tooltips -->
    <h4 class="!mt-6">Tooltips</h4>
    <div class="row items-center gap-1" x-data="{ dynamicMessage: 'Dynamic tooltip' }">
        <button x-tooltip="Basic tooltip">Hover me</button>
        <button x-tooltip="Press tooltip">Press me</button>
        <button x-tooltip.top="Top tooltip">Top</button>
        <button x-tooltip.top.right="Top right tooltip">Top right</button>
        <button x-tooltip.bottom="Bottom tooltip">Bottom</button>
        <button x-tooltip.left="Left tooltip">Left</button>
        <button x-tooltip.right="Right tooltip">Right</button>
        <button x-tooltip="'Dynamic: ' + dynamicMessage">Dynamic</button>
        <button x-tooltip="`Template literal: ${dynamicMessage}`">Template literal</button>
    </div>

    <!-- Toasts -->
    <h4 class="!mt-6">Toasts</h4>
    <div class="row-wrap items-center gap-1" x-data="{ dynamicMessage: 'Dynamic content' }">
        <!-- Static Messages (no quotes needed) -->
        <button x-toast="Basic directive toast">Basic Directive</button>
        <button x-toast.success="Success directive toast">Success Directive</button>
        <button x-toast.error="Error directive toast">Error Directive</button>
        <button x-toast.dismiss="Dismissible directive toast">Dismiss Directive</button>
        <button x-toast.success.dismiss="Dismissible success directive">Dismiss Success Directive</button>
        <button x-toast.error.dismiss="Dismissible error directive">Dismiss Error Directive</button>
        <button x-toast.fixed="Fixed directive toast">Fixed Directive</button>
        <button x-toast.success.fixed="Fixed success directive">Fixed Success Directive</button>
        <button x-toast.error.fixed="Fixed error directive">Fixed Error Directive</button>
        <button x-toast.1000="1 second duration">1s Duration</button>
        <button x-toast.error.dismiss.2000="2 second error dismiss">2s Error Dismiss</button>

        <!-- Dynamic Messages (with quotes) -->
        <button x-toast="'Dynamic: ' + dynamicMessage">Dynamic Basic</button>
    </div>
</div>