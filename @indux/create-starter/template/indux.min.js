!function(){"use strict";const e={theme:{current:null},_isThemeChanging:!1,initTheme(){const e=sessionStorage.getItem("theme");e?(sessionStorage.removeItem("theme"),this.theme.current=e,localStorage.setItem("theme",e)):this.theme.current=localStorage.getItem("theme")||"system",this.applyTheme(this.theme.current),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{"system"===this.theme.current&&this.applyTheme("system")}))},setTheme(e){if(!this._isThemeChanging){this._isThemeChanging=!0;try{"toggle"===e&&(e="light"===this.theme.current?"dark":"light"),this.theme.current=e,localStorage.setItem("theme",e),sessionStorage.setItem("theme",e),window.Alpine&&Alpine.store("theme",{...this.theme}),this.applyTheme(e),window.Alpine?.nextTick((()=>{document.body.dispatchEvent(new CustomEvent("x-theme-updated"))}))}finally{setTimeout((()=>{this._isThemeChanging=!1}),200)}}},applyTheme(e){let t;t="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===e,document.documentElement.classList.toggle("dark",t),window.Alpine&&Alpine.nextTick((()=>{document.body.dispatchEvent(new CustomEvent("x-theme-updated"))}))}};function t(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e.apply(this,r)}),t)}}const n={current:null,init(){this.updateQueryParams=this.updateQueryParams.bind(this),this.debouncedUpdateQueryParams=t(((e,t,n)=>{this.updateQueryParams(e,t,n)}),300)},async setPath(e,t={}){const n=new URL(window.location);return n.pathname="/index.html"===e?"/":e,t.authRedirect?this.updateURL(n,{authRedirect:t.authRedirect,replace:!0}):this.updateURL(n,t)},async updateQueryParams(e,t,n){if(!e)return this.current||new URL(window.location);const r=new URL(window.location);r.pathname.endsWith("index.html")&&(r.pathname="/");try{const i=e=>null!=e&&""!==e,o=r.searchParams.get(e)?.split(",").filter(i)||[];switch(n){case"add":if(Array.isArray(t)){const n=[...new Set([...o,...t.filter(i)])];n.length&&r.searchParams.set(e,n.join(","))}else i(t)&&!o.includes(t)&&(o.push(t),r.searchParams.set(e,o.join(",")));break;case"remove":if(r.searchParams.has(e)&&i(t)){const n=o.filter((e=>e!==t));n.length?r.searchParams.set(e,n.join(",")):r.searchParams.delete(e)}break;case"set":if(Array.isArray(t)){const n=t.filter(i);n.length?r.searchParams.set(e,n.join(",")):r.searchParams.delete(e)}else i(t)?r.searchParams.set(e,t):r.searchParams.delete(e)}return this.updateURL(r)}catch(e){return r}},debouncedUpdateQueryParams:t((async function(e,t,n="set"){try{const r=await this.updateQueryParams(e,t,n),i=Alpine.store("app");return i&&Alpine.nextTick((()=>{i.pg||(i.pg={}),i.x||(i.x={}),document.body.dispatchEvent(new CustomEvent("query-updated",{detail:{key:e,value:t||null,action:n}}))})),r}catch(e){}}),50),async updateURL(e,t={}){try{if(e.pathname.endsWith("index.html")&&(e.pathname="/"),this.current=e,Alpine?.store("app")?.isLocalized){const t=Alpine.store("app");t.getLocalizedUrl(t.currentLang);t.appData.localeURL?.query&&e.searchParams.set(t.appData.localeURL.query,t.currentLang)}const n=Alpine?.store("auth"),r=Alpine?.store("app");if(n&&!n.isAuthenticated&&r){const n=r.appData.pages.find((e=>e.authLogin));n&&e.pathname!==n.path&&(e=new URL(n.path,window.location.origin),t.replace=!0)}const i=t.replace?"replaceState":"pushState";return history[i]({},"",e.toString()),this.routeHandler&&!t.skipRouteHandler&&await this.routeHandler(),e}catch(t){return e}},setRouteHandler(e){this.routeHandler=e},getCurrentParams(){const e=window.location.pathname.split("/").filter(Boolean);return Alpine?.store("app")?.isLocalized&&e.shift(),e.length>=2?{[e[0]]:e[1]}:{}},getCurrentQueryParams:()=>Object.fromEntries(new URLSearchParams(window.location.search))};n.init(),window.addEventListener("popstate",(()=>{n.routeHandler&&n.routeHandler()}));const r={init(){document.querySelectorAll("[icon], [x-bind\\:icon], [\\:icon]").forEach((e=>{this.handleIconElement(e)}));return new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&(e.matches("[icon], [x-bind\\:icon], [\\:icon]")&&this.handleIconElement(e),e.querySelectorAll("[icon], [x-bind\\:icon], [\\:icon]").forEach((e=>{this.handleIconElement(e)})))}))}))})).observe(document.body,{childList:!0,subtree:!0}),this},handleIconElement(e){if(e.hasAttribute("data-icon-processed"))return;const t=e.getAttribute("icon"),n=e.getAttribute("x-bind:icon")||e.getAttribute(":icon");if(t||n){let r=e.querySelector("span.iconify");r||(r=document.createElement("span"),r.className="iconify",e.insertBefore(r,e.firstChild)),t?r.setAttribute("data-icon",t):n&&(r.setAttribute("x-data","{}"),r.setAttribute(":data-icon",n),r.setAttribute("x-effect","window.Iconify?.scan($el)")),e.setAttribute("data-icon-processed","true"),t&&window.Iconify&&window.Iconify.scan(r)}}},i="yaml_cache_",o=36e5,s={_getCacheKey:e=>i+e,_cleanExpiredItems(){const e=Date.now();Object.keys(localStorage).filter((e=>e.startsWith(i))).forEach((t=>{try{const n=JSON.parse(localStorage.getItem(t));e-n.timestamp>o&&localStorage.removeItem(t)}catch(e){localStorage.removeItem(t)}}))},setCache(e,t){try{this._cleanExpiredItems();const n={content:t,timestamp:Date.now()};localStorage.setItem(this._getCacheKey(e),JSON.stringify(n))}catch(e){this.clearAllContentCaches()}},getCache(e){try{const t=localStorage.getItem(this._getCacheKey(e));if(!t)return null;const{content:n,timestamp:r}=JSON.parse(t);return Date.now()-r>o?(this.clearCache(e),null):n}catch(e){return null}},clearCache(e){e?localStorage.removeItem(this._getCacheKey(e)):this.clearAllContentCaches()},clearAllContentCaches(){Object.keys(localStorage).filter((e=>e.startsWith(i))).forEach((e=>localStorage.removeItem(e)))},getFromCache(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}},setInCache(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){this.clearAllContentCaches()}}},a={componentCache:{},usedComponents:new Set,commonComponents:[],componentLoadQueue:[],initialized:!1,async init(e){if(!this.initialized)try{e.appData?.commonComponents&&(this.commonComponents=e.appData.commonComponents,await Promise.all(this.commonComponents.map((e=>this.loadComponent(e)))));new MutationObserver((async e=>{for(const t of e)if("childList"===t.type){const e=async t=>{if(1!==t.nodeType)return;if(t.tagName?.toLowerCase().startsWith("x-")){const e=await this.processComponents(t.outerHTML),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.parentNode?.insertBefore(n.firstChild,t);t.parentNode?.removeChild(t)}const n=Array.from(t.children||[]);for(const t of n)await e(t)};for(const n of t.addedNodes)await e(n)}})).observe(document.body,{childList:!0,subtree:!0}),this.initialized=!0}catch(e){throw{...e,module:"components-manager"}}},async processComponents(e){e=e.replace(/<x-([^>]+?)\/>/g,((e,t)=>`<x-${t}></x-${t}>`));const t=document.createElement("div");t.innerHTML=e.trim();const n=t.getElementsByTagName("template");let r;Array.from(n).forEach((e=>{const t=e.innerHTML.replace(/<x-([^>]+?)\/>/g,((e,t)=>`<x-${t}></x-${t}>`));e.innerHTML=t}));do{r=!1;let e=t.innerHTML;e=e.replace(/<x-([^>]+?)\/>/g,((e,t)=>`<x-${t}></x-${t}>`)),t.innerHTML=e;const n=Array.from(t.getElementsByTagName("*")).filter((e=>e.tagName.toLowerCase().startsWith("x-")));if(n.length>0){r=!0;for(const e of n){const t=e.tagName.toLowerCase().replace("x-","");try{const n=(await this.loadComponent(t)).replace(/<x-([^>]+?)\/>/g,((e,t)=>`<x-${t}></x-${t}>`)),r=document.createElement("div");r.innerHTML=n.trim();const i=Array.from(e.attributes),o=r.firstElementChild;i.forEach((e=>{const n=o.getAttribute(e.name);if("class"===e.name){const t=`${n||""} ${e.value}`.trim();o.setAttribute("class",t)}else(e.name.startsWith("x-")||e.name.startsWith(":")||e.name.startsWith("@")||e.name!==t)&&o.setAttribute(e.name,e.value)}));const s={};Array.from(e.attributes).forEach((e=>{e.name!==t&&"class"!==e.name&&(s[e.name.toLowerCase()]=e.value)}));if(r.querySelectorAll("*").forEach((e=>{Array.from(e.attributes).forEach((t=>{const n=t.value.trim();if(n.includes("$prop(")){const r=n.match(/\$prop\(['"]([^'"]+)['"]\)/);if(r){const i=r[1].toLowerCase(),o=s[i]||"";if("class"===t.name){const t=(e.getAttribute("class")||"").replace(new RegExp(`\\$prop\\(['"]${i}['"]\\)`,"i"),o).split(" ").filter(Boolean).join(" ");e.setAttribute("class",t)}else if(t.name.startsWith("x-")||t.name.startsWith(":")||t.name.startsWith("@")||t.name.startsWith("x-bind:")||t.name.startsWith("x-on:")){const r=o.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/`/g,"\\`");if(n!==`$prop('${i}')`){const r=n.replace(/\$prop\(['"]([^'"]+)['"]\)/g,((e,t)=>`\`${s[t.toLowerCase()]||""}\``));e.setAttribute(t.name,r)}else e.setAttribute(t.name,`\`${r}\``)}else e.setAttribute(t.name,o)}}}))})),e.hasAttribute("class")){const t=`${r.firstElementChild.getAttribute("class")||""} ${e.getAttribute("class")}`.trim();r.firstElementChild.setAttribute("class",t)}const a=e.parentNode;if(a){const t=document.createElement("div");for(t.innerHTML=r.innerHTML;t.firstChild;)a.insertBefore(t.firstChild,e);a.removeChild(e)}}catch(n){const r=document.createComment(` Error loading component ${t} `);e.parentNode.replaceChild(r,e)}}}}while(r);return t.innerHTML},shouldRenderComponent(e,t){if(!e)return!0;const n=e.split("&");for(let e of n)if(e.startsWith("?")){const[t,n]=e.slice(1).split("=");if(new URLSearchParams(window.location.search).get(t)!==n)return!1}else if(!t.includes(e))return!1;return!0},async loadComponent(e){if(this.componentCache[e])return this.componentCache[e];try{const t=await fetch(`/components/${e}.html`);if(!t.ok)throw new Error(`Component ${e} not found (${t.status})`);const n=await t.text();return this.componentCache[e]=n,n}catch(e){}},cleanupComponentCache(){for(const e in this.componentCache)this.usedComponents.has(e)||this.commonComponents.includes(e)||delete this.componentCache[e]},async lazyLoadComponent(e,t){try{const n=await this.loadComponent(e);this.insertComponent(e,t,n)}catch(n){this.insertComponent(e,t,`Error loading ${e}`)}},insertComponent(e,t,n){const r=document.getElementById(t);if(r)r.outerHTML=n;else{const e=document.createElement("div");e.innerHTML=n,document.body.appendChild(e.firstElementChild)}},async updateConditionalComponents(e){const t=document.querySelectorAll("[data-route-condition]");for(const n of t){const t=n.dataset.routeCondition;if(this.shouldIncludeComponent(t,e)){if(n.removeAttribute("hidden"),""===n.innerHTML.trim()){const e=n.dataset.componentName;if(e){const t=await this.loadComponent(e);n.innerHTML=t}}}else n.setAttribute("hidden","")}}},l={_dynamicTags:new Set,async resolveContent(e,t){if(!t||"string"!=typeof e)return e;if(!e.startsWith("x.")&&!e.startsWith("pg."))return e;0===Object.keys(t.x).length&&await t.loadContent();const n=e.split(".");let r="x"===n[0]?t.x||{}:t.pg||{};for(let t=1;t<n.length;t++){if(!r||void 0===r[n[t]])return e;r=r[n[t]]}return r||e},async applyHeadContent(e,t){if(!e||!t)return;this.cleanupDynamicTags();const n=[];t.appData?.defaultMeta&&n.push(this.applyMetaTags(t.appData.defaultMeta,t)),t.appData?.globalHead&&e!==t.appData.globalHead&&n.push(this.applyGlobalHead(t.appData.globalHead,t)),e.meta&&n.push(Promise.all(e.meta.map((e=>this.applyMetaTag(e,t))))),e.scripts&&n.push(Promise.all(e.scripts.map((e=>this.applyScriptTag(e,t))))),e.links&&n.push(Promise.all(e.links.map((e=>this.applyLinkTag(e,t))))),e.rawHead&&this.applyRawTags(e.rawHead),await Promise.all(n),this.applyCanonicalUrl()},cleanupDynamicTags(){this._dynamicTags.forEach((e=>{const t=document.querySelector(e);t&&t.remove()})),this._dynamicTags.clear()},applyCanonicalUrl(){const e=document.querySelector('link[rel="canonical"]')||document.createElement("link");e.rel="canonical",e.href=n.current?.href||window.location.href,e.parentNode||document.head.appendChild(e)},applyHreflangTags(e){const t=document.createElement("link");t.rel="alternate",t.hreflang="x-default",t.href=e.getLocalizedUrl(e.appData.locales[0].code).href,document.head.appendChild(t);const n=e.generateHreflangTags();n&&document.head.insertAdjacentHTML("beforeend",n)},applyScriptTag(e,t){let n=document.querySelector(`script[src="${e.src}"]`);n||(n=document.createElement("script"),Object.keys(e).forEach((t=>n.setAttribute(t,e[t]))),document.head.appendChild(n))},applyLinkTag(e,t){let n=document.querySelector(`link[href="${e.href}"]`);n||(n=document.createElement("link"),Object.keys(e).forEach((t=>n.setAttribute(t,e[t]))),document.head.appendChild(n))},async applyMetaTag(e,t){const n=e.name?`meta[name="${e.name}"]`:e.property?`meta[property="${e.property}"]`:null;if(!n)return;this._dynamicTags.add(n);let r=document.querySelector(n);r||(r=document.createElement("meta"),r.setAttribute(e.name?"name":"property",e.name||e.property),document.head.appendChild(r));const i=await this.resolveContent(e.content,t);r.setAttribute("content",i)},async applyMetaTags(e,t){const n=[];for(const[t,r]of Object.entries(e))r&&(t.startsWith("og:")?n.push({property:t,content:r}):n.push({name:t,content:r}));await Promise.all(n.map((e=>this.applyMetaTag(e,t))))},applyOpenGraphTag(e,t){let n=document.querySelector(`meta[property = "${e}"]`);n||(n=document.createElement("meta"),n.setAttribute("property",e),document.head.appendChild(n)),n.setAttribute("content",t)},applyTwitterTag(e,t){let n=document.querySelector(`meta[name = "${e}"]`);n||(n=document.createElement("meta"),n.setAttribute("name",e),document.head.appendChild(n)),n.setAttribute("content",t)},applyGlobalHead(e){if(e.scripts&&e.scripts.forEach((e=>{if(!document.querySelector(`script[src="${e.src}"]`)){let t=document.createElement("script");Object.keys(e).forEach((n=>t.setAttribute(n,e[n]))),document.head.appendChild(t)}})),e.links&&e.links.forEach((e=>{if(!document.querySelector(`link[href="${e.href}"]`)){let t=document.createElement("link");Object.keys(e).forEach((n=>t.setAttribute(n,e[n]))),document.head.appendChild(t)}})),e.meta&&e.meta.forEach((e=>{let t=e.name?`meta[name="${e.name}"]`:e.property?`meta[property="${e.property}"]`:null;if(t&&!document.querySelector(t)){let t=document.createElement("meta");Object.keys(e).forEach((n=>t.setAttribute(n,e[n]))),document.head.appendChild(t)}})),e.raw){let t=document.createElement("div");t.innerHTML=e.raw,Array.from(t.children).forEach((e=>{document.head.querySelector(e.tagName+(e.id?`#${e.id}`:""))||document.head.appendChild(e.cloneNode(!0))}))}},applyRawTags(e){const t=document.createElement("div");t.innerHTML=e,Array.from(t.children).forEach((e=>{document.head.querySelector(e.tagName+(e.id?`#${e.id}`:""))||document.head.appendChild(e.cloneNode(!0))}))}};let c=!1,u=!1;const p={async checkAccess(e){const t=Alpine.store("auth"),n=Alpine.store("app");this.restoreSession();if(e?.authLogin)return!0;if(e?.auth){const r=t?.valid;if(!r){const e=n.appData.pages.find((e=>e.authLogin));if(e){sessionStorage.setItem("authRedirect",window.location.pathname);const t=new URL(e.path,window.location.origin);return history.replaceState(null,"",t),!1}}if("string"==typeof e.auth||Array.isArray(e.auth)){return this.checkRule(e.auth)}}return!0},checkRule(e){const t=Alpine.store("auth");if(!e)return!0===t?.valid;if("string"==typeof e)return"user"===e?!0===t?.valid:t?.roles?.includes(e);if(Array.isArray(e))return e.some((e=>this.checkRule(e)));if("object"==typeof e){if(e.roles)if(e.requireAll){if(!(Array.isArray(e.roles)?e.roles:[e.roles]).every((e=>t.roles.includes(e))))return!1}else{if(!(Array.isArray(e.roles)?e.roles:[e.roles]).some((e=>t.roles.includes(e))))return!1}if(e.team)if("string"==typeof e.team){if(!t.teams.includes(e.team))return!1}else if(!0===e.team&&!t.hasTeam())return!1;if(e.check)return t[e.check]?.()}return!0},createAuthExtension:()=>({name:"auth",store:{valid:!1,user:null,roles:[],teams:[],currentTeam:null,async checkAuth(){throw new Error("checkAuth() must be implemented by auth extension")},async login(){throw new Error("login() must be implemented by auth extension")},async logout(){throw new Error("logout() must be implemented by auth extension")},hasRole(e){return this.roles.includes(e)},hasTeam(e=null){return!!this.teams?.length&&(!e||this.teams.includes(e))}}}),initializeAlpine(){c||(Alpine.magic("auth",(()=>{const e=Alpine.store("auth");return{get valid(){return e.valid},get user(){return e.user},get roles(){return e.roles},get teams(){return e.teams},get currentTeam(){return e.currentTeam},logout(){e.logout()},hasRole:t=>e.roles.includes(t),hasRoles:t=>t.some((t=>e.roles.includes(t))),hasAllRoles:t=>t.every((t=>e.roles.includes(t))),hasTeam:t=>e.teams.includes(t),hasAnyTeam:()=>e.teams.length>0,can(e){return this.check({permission:e})},cannot(e){return!this.can(e)},check(e){return this.checkRule(e)},satisfies:t=>e[t]?.()}})),c=!0)},restoreSession(){try{const e=localStorage.getItem("authState");if(e){const t=JSON.parse(e);if(t.valid){const e=Alpine.store("auth");return Object.assign(e,t),u=!0,!0}}}catch(e){}return u=!1,!1},updateSessionStorage(){localStorage.setItem("authState",JSON.stringify({valid:this.valid,roles:this.roles,user:this.user,teams:this.teams,currentTeam:this.currentTeam}))},initializeBroadcastChannel(){new BroadcastChannel("auth_channel").onmessage=e=>{"logout"===e.data.type?this.logout():"login"===e.data.type&&this.restoreSession()}},async logout(){authChannel.postMessage({type:"logout"})},async login(){authChannel.postMessage({type:"login"})},sessionManager:{save(e){localStorage.setItem("authState",JSON.stringify(e))},restore(){try{const e=localStorage.getItem("authState");return e?JSON.parse(e):null}catch(e){return null}},clear(){localStorage.removeItem("authState"),localStorage.removeItem("jwt")}},tokenManager:{get:()=>localStorage.getItem("auth_token"),set(e){e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}},initializeBroadcastChannel(){this.authChannel=new BroadcastChannel("auth_channel"),this.authChannel.onmessage=e=>{switch(e.data.type){case"logout":this.handleLogout();break;case"login":this.handleLogin();break;case"sessionChange":this.handleSessionChange(e.data.session)}}},handleLogout(){this.sessionManager.clear(),this.broadcastAuthEvent("logout"),window.dispatchEvent(new CustomEvent("auth:stateChanged",{detail:{valid:!1}}))},handleLogin(e){if(this.sessionManager.save(e),e.session?.access_token){this.tokenManager.set(e.session.access_token);this.tokenManager.get()}this.broadcastAuthEvent("login",e)},broadcastAuthEvent(e,t={}){this.authChannel?.postMessage({type:e,...t})},handleAuthError(e){this.handleLogout(),window.dispatchEvent(new CustomEvent("auth:error",{detail:{error:e}}))}};let h=!1,d=!1;const f={magics:new Map,directives:new Map,stores:new Map,handlers:new Map,initialized:!1,appStore:null,hooks:new Map,standardHooks:["beforeInit","afterInit","beforeRoute","afterRoute","beforePageLoad","afterPageLoad"],createExtension(e,t={}){const n={name:e,...t,hooks:this.standardHooks.reduce(((e,n)=>(t.hooks?.[n]&&(e[n]=t.hooks[n]),e)),{})};return this.registerExtension(e,n),n},async init(e,t){if(!h)try{if(this.appStore=t,await new Promise((e=>{let t=0;const n=()=>{d||t>50?e():(t++,setTimeout(n,10))};n()})),this.stores.has("auth")){const t=this.stores.get("auth");e.store("auth",t),p.restoreSession()}await this.runHook("beforeInit",t);for(const[e,n]of this.handlers)n.init&&await n.init(t);this.magics.forEach(((n,r)=>{e.magic(r,(e=>n(e,t)))})),this.directives.forEach(((n,r)=>{e.directive(r,((e,{expression:r},{evaluate:i})=>n(e,{expression:r},{evaluate:i},t)))})),this.stores.forEach(((t,n)=>{e.store(n,t)})),this.initialized=!0,h=!0}catch(e){throw e}},async registerExtension(e,t){if("auth"===e){if(d)return;d=!0}t.store&&this.stores.set(e,t.store),t.magics&&Object.entries(t.magics).forEach((([e,t])=>{this.magics.set(e,t)})),t.directives&&Object.entries(t.directives).forEach((([e,t])=>{this.directives.set(e,t)})),t.init&&this.handlers.set(e,{init:t.init}),t.hooks&&Object.entries(t.hooks).forEach((([e,t])=>{this.registerHook(e,t)})),this.initialized&&t.init&&await t.init(this.appStore)},async registerHook(e,t){this.hooks.has(e)||this.hooks.set(e,[]),this.hooks.get(e).push(t)},async runHook(e,...t){const n=this.hooks.get(e)||[];for(const e of n){if(!1===await e(...t))return!1}return!0}},g={createExtension:(e,t={})=>f.createExtension(e,t)},m={appStore:null,initializeRouting(e){this.appStore=e;const t=new URL(window.location),n=t.searchParams.get("path");if(n){t.searchParams.delete("path");const r=new URL(n,window.location.origin);history.replaceState(null,"",r),setTimeout((()=>this.handleRoute(e)),0)}else this.handleRoute(e);window.addEventListener("popstate",(()=>{this.handleRoute(e)})),this.setupLinkInterception()},async handleRoute(e){if(!e.appData?.pages)return;const t=new URL(window.location);let n=t.pathname||"/";const r=e.isLocalized&&e.removeLanguageFromPath?e.removeLanguageFromPath(n):n,i=this.findMatchingPage(e,r);if(i?.authLogin)sessionStorage.removeItem("authRedirect");else{const e=sessionStorage.getItem("authRedirect");if(e){const t=Alpine.store("auth");if(t?.valid){sessionStorage.removeItem("authRedirect");const t=new URL(e,window.location.origin);history.replaceState(null,"",t),n=t.pathname}}}if(!i)return this.handle404(n);try{if(!1===await p.checkAccess(i))return!1;if(!1===await f.runHook("beforePageLoad",{page:i,path:r,appStore:e}))return!1;e.routeParams=this.extractRouteParams(e,i.path,r),i.pathContent&&await e.contentManager.resolveDynamicContent(e,i,r);if(!await this.loadPage(e,i.page,r+t.search))return!1;const n=[];return i.title&&(n.push({name:"title",content:i.title}),n.push({property:"og:title",content:i.title})),i.description&&(n.push({name:"description",content:i.description}),n.push({property:"og:description",content:i.description})),i.author&&n.push({name:"author",content:i.author}),await l.applyHeadContent({...i.head,meta:n},e),await new Promise((e=>{Alpine.nextTick((()=>{document.body.dispatchEvent(new CustomEvent("x-updated")),e()}))})),await f.runHook("afterPageLoad",{page:i,path:r,success:!0,appStore:e}),await f.runHook("afterRoute",{page:i,path:r,success:!0,appStore:e}),!0}catch(t){return await f.runHook("afterRoute",{path:r,success:!1,error:t,appStore:e}),this.handle404(n)}},handle404(e){const t=this.appStore.appData.pages.find((e=>e.fallback));if(t)return n.updateURL(new URL(t.path,window.location.origin),{replace:!0,skipRouteHandler:!0}),this.handleRoute(this.appStore);if(!window.location.pathname.endsWith("index.html")){const t=window.location.origin+"/index.html",n=new URL(t);n.searchParams.set("path",e),window.location.href=n.href}return!1},async navigateTo(e){await n.setPath(e)},async reloadCurrentPageContent(){if(this.currentPage){const e=this.currentPage.name,t=this.currentPage.path;await this.loadPage(e,t,!0)}},extractRouteParams(e,t,n){if(!t||!n)return{};const r=t.split("/").filter(Boolean),i=n.split("/").filter(Boolean),o={},s=e.appData?.pages?.find((e=>e.path===`/${r[0]}`));if(s?.pathContent){i.slice(1).forEach((t=>{s.pathContent.forEach((n=>{if(!o[n]){const r=e.x[n];if(Array.isArray(r)){r.find((e=>e.path===`/${t}`||e.path===t))&&(o[n]=t)}}}))}))}return o},findMatchingPage(e,t){if(!e.appData?.pages)return null;const n=t||"/",r=n.split("/").filter(Boolean);let i=e.appData.pages.find((e=>e.path===n));if(i)return i;const o=e.appData.pages.filter((e=>{if("/"===e.path)return!1;return e.path.split("/").filter(Boolean).every(((e,t)=>r[t]===e))})).sort(((e,t)=>{const n=e.path.split("/").filter(Boolean).length;return t.path.split("/").filter(Boolean).length-n}));if(o.length>0){return o[0]}return e.appData.pages.find((e=>e.fallback))},parseQueryString(){const e=new URLSearchParams(window.location.search),t={};for(const[n,r]of e)t[n]=r;return t},clearQueryParams(){const e=new URL(window.location);e.search="",window.history.replaceState({},"",e),this.lastHandledPath=e.pathname},setupLinkInterception(){document.body.addEventListener("click",(e=>{const t=e.target.closest("a");if(!t?.href)return;const n=new URL(t.href),r=new URL(window.location.href);if(n.hash&&n.pathname===r.pathname)return;if((n.hostname===r.hostname||n.hostname.endsWith("."+r.hostname)||r.hostname.endsWith("."+n.hostname))&&!t.hasAttribute("download")){e.preventDefault();const t=this.getLocalizedUrl(this.appStore.currentLang,n.pathname+n.search+n.hash);t.origin!==window.location.origin?window.location.href=t.href:(history.pushState(null,"",t),this.handleRoute(this.appStore).then((()=>{if(t.hash){const e=document.querySelector(t.hash);e&&e.scrollIntoView({behavior:"smooth"})}})))}}))},parseXData(e){if(!e||"string"!=typeof e)return{};if(!(e=e.trim()))return{};try{if(e.includes("x-data=")){const t=e.match(/x-data=["'](\{[^}]+\})["']/);if(!t)return{};e=t[1].trim()}const t=e.replace(/'/g,'"').replace(/(\w+):/g,'"$1":').trim();return JSON.parse(t)}catch(t){try{return Function(`return ${e}`)()}catch{return{}}}},mergeXData(e,t){const n={...this.parseXData(e),...this.parseXData(t)};return Object.keys(n).length?`{ ${Object.entries(n).map((([e,t])=>`${e}: '${t}'`)).join(", ")} }`:"{}"},executePageScripts(){Array.from(document.body.getElementsByTagName("script")).forEach((e=>{try{if(e.innerHTML&&e.innerHTML.includes("LiveReload")||e.src&&e.src.includes("livereload.js"))return;const t=document.createElement("script");if(Array.from(e.attributes).forEach((e=>{try{t.setAttribute(e.name,e.value)}catch(e){}})),e.src)t.src=e.src;else if(e.innerHTML?.trim())try{const n=e.innerHTML.replace(/<!--[\s\S]*?-->/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").trim();n&&t.appendChild(document.createTextNode(n))}catch(e){}e.parentNode&&e.parentNode.replaceChild(t,e)}catch(e){}}))},async loadPage(e,t,n){try{const r=await fetch(`/pages/${t}.html`);if(!r.ok)throw new Error(`Failed to load page ${t}`);const i=await r.text(),o=i.match(/<body[^>]*>([\s\S]*)<\/body>/i),s=i.match(/<body([^>]*)>/i);if(!o||!s)throw new Error("No body tag found in page HTML");const a=o[1],l=await e.processComponents(a,n),c={},u={},p=s[1].trim(),h=p.match(/x-data=(["'])((?:(?!\1)[^])*)\1/);h&&(c["x-data"]=h[2]);const d=p.replace(/x-data=(["'])((?:(?!\1)[^])*)\1/,""),f=/(?:@[^=\s]+|x-[^=\s]+|[^\s@x-][^\s=]*)\s*=\s*(['"])((?:(?!\1|>)[^])*?)\1/g;let g;for(;null!==(g=f.exec(d));)try{const[e,t,n]=g,r=e.split("=")[0].trim();if(!r||"="===r||!n)continue;if(r.startsWith("@")||r.startsWith("x-")){const e=n.replace(/\s+/g," ").replace(/\\'/g,"'").replace(/\\"/g,'"').trim();e&&(u[r]=e)}else c[r]=n}catch(e){}document.body.className="";const m={},y={...m};for(m.class&&c.class?y.class=`${m.class} ${c.class}`.trim():c.class&&(y.class=c.class),c["x-data"]&&(y["x-data"]=c["x-data"]),Object.entries(c).forEach((([e,t])=>{"class"!==e&&"x-data"!==e&&(e.startsWith("@")?document.body.setAttribute(e,t):y[e]=t)}));document.body.attributes.length>0;)document.body.removeAttribute(document.body.attributes[0].name);Object.entries(y).forEach((([e,t])=>{if(null!=t&&""!==t)try{document.body.setAttribute(e,t)}catch(e){}})),Object.entries(u).forEach((([e,t])=>{try{if(e.startsWith("@")){const n="x-on:"+e.slice(1);if(e.includes("keydown.f.window")){const e="\n                                if (!['INPUT', 'TEXTAREA'].includes($event.target.tagName)) {\n                                    const currentView = view;\n                                    view = view === 'Fullscreen' ? (previousView || 'Mobile Portrait') : 'Fullscreen';\n                                    if (view === 'Fullscreen') previousView = currentView;\n                                    $nextTick(() => $dispatch('view-changed'));\n                                }\n                            ".replace(/\s+/g," ").trim();document.body.setAttribute(n,e)}else document.body.setAttribute(n,t)}else document.body.setAttribute(e,t)}catch(e){}})),document.body.innerHTML=l;const b=e.appData.pages.find((e=>e.page===t));return b&&(e.currentPage=b),this.executePageScripts(),!0}catch(e){return this.handle404(n)}},getLocalizedUrl(e,t){if(!e)return new URL(t,window.location.origin);const n=new URL(t,window.location.origin),r=n.pathname.split("/").filter(Boolean);return 2===r[0]?.length?r[0]=e:r.unshift(e),n.pathname="/"+r.join("/"),n}},y={async setLocale(e){if(this.isLocalized&&e!==this.currentLang)try{if(this.currentLang=e,localStorage.setItem("lang",e),document.documentElement.lang=e,this.appData?.localeURL){const t=new URL(window.location.href);let r=this.getLocalizedUrl(e);if(this.appData.localeURL.subdomain){const n=localStorage.getItem("theme");return n&&sessionStorage.setItem("theme",n),sessionStorage.setItem("pendingLang",e),("localhost"===t.hostname||t.hostname.endsWith(".localhost"))&&(r.hostname=`${e}.localhost`),t.port&&(r.port=t.port),void(window.location.href=r.href)}await n.updateURL(r,{replace:!0})}this.x={},this.pg={},await this.loadContent(),Alpine.store("x",this.x),Alpine.store("pg",this.pg),Alpine.store("app",{...this}),await m.handleRoute(this)}catch(e){this.currentLang=localStorage.getItem("lang")||this.appData.locales[0].code,document.documentElement.lang=this.currentLang}},detectLocaleFromUrl:function(){if(!this.appData?.localeURL)return null;const e=sessionStorage.getItem("pendingLang");if(e)return sessionStorage.removeItem("pendingLang"),document.documentElement.lang=e,e;const t=new URL(window.location.href);if(this.appData.localeURL.subdomain){let e;if("localhost"===t.hostname||t.hostname.endsWith(".localhost")){const n=t.hostname.split(".");n.length>1&&(e=n[0])}else e=t.hostname.split(".")[0];if(e&&this.appData.locales.some((t=>t.code===e)))return document.documentElement.lang=e,e}if(this.appData.localeURL.path){const e=t.pathname.split("/").filter(Boolean);if(e[0]&&this.appData.locales.some((t=>t.code===e[0])))return e[0]}if(this.appData.localeURL.query){const e=t.searchParams.get(this.appData.localeURL.query);if(e&&this.appData.locales.some((t=>t.code===e)))return e}const n=localStorage.getItem("lang");return n&&this.appData.locales.some((e=>e.code===n))?n:null},removeLanguageFromPath:function(e){if(!this.appData?.locales)return e;const t=e.split("/").filter(Boolean);return this.appData.locales.some((e=>e.code===t[0]))?"/"+t.slice(1).join("/"):e},getLocalizedUrl:function(e){if(!this?.appData?.localeURL)return new URL(window.location.href);const t=new URL(window.location.href),{localeURL:n}=this.appData;try{if(n.subdomain)if("localhost"===t.hostname||t.hostname.endsWith(".localhost"))t.hostname=`${e}.localhost`;else{const n=t.hostname.split(".");2===n[0].length?n[0]=e:n.unshift(e),t.hostname=n.join(".")}if(n.path){const n=this.removeLanguageFromPath(t.pathname);t.pathname=`/${e}${n}`}return n.query&&t.searchParams.set(n.query,e),t}catch(e){return t}},generateHreflangTags:function(){return this?.appData?.locales?this.appData.locales.map((e=>({rel:"alternate",hreflang:e.code,href:this.getLocalizedUrl(e.code).href}))):[]}},b={storage:null,init(){try{this.storage=localStorage}catch(e){const t=new Map;this.storage={getItem:t.get.bind(t),setItem:t.set.bind(t)}}},hasValue(e){return null!==this.storage.getItem(e)},getValue(e){return JSON.parse(this.storage.getItem(e))},setValue(e,t){this.storage.setItem(e,JSON.stringify(t))},createPersistInterceptor(e){return(t,n,r,i,o)=>{const s=`_x_${o}`,a=this.hasValue(s)?this.getValue(s):t;return r(a),e.effect((()=>{const e=n();this.setValue(s,e),r(e)})),a}}},w={initialized:!1,updateStore(e,t){window.Alpine&&Alpine.store(e,t||{})},async initializeAlpine(t){if(!this.initialized)try{if(!window.Alpine)throw new Error("Alpine.js not found");await f.init(Alpine,t),b.init(),Alpine.store("app",t||{}),Alpine.store("x",t?.x||{}),Alpine.store("pg",t?.pg||{}),Alpine.store("theme",e.theme||{}),Alpine.magic("persist",(()=>{const e=b.createPersistInterceptor(Alpine);return Alpine.interceptor(e,(t=>{t.as=n=>(e.storageKey=n,t),t.using=n=>(e.storageProvider=n,t)}))})),Alpine.persist=(e,{get:t,set:n},r=localStorage)=>{const i=b.hasValue(e)?b.getValue(e):t();n(i),Alpine.effect((()=>{const r=t();b.setValue(e,r),n(r)}))};const r=(e,n,r)=>{const i=n.split(".");let o=e;if(!e?.[i[0]]&&r!==t.defaultLang){t.defaultLang;const e=Alpine.store("x");let n;if(e?.core&&(n=e.core),!n)return;return o=i.reduce(((e,t,n)=>e?.[t]),n),o}for(const e of i){if(!o||"object"!=typeof o)return;o=o[e]}return o};Alpine.magic("x",(()=>{const e=new Map;return new Proxy({},{get:(n,i)=>{let o=Alpine.store("x")[i];if(!o&&!e.has(i)){const n=(async()=>{try{const e=await t.contentManager.loadContentFile(t,i);e&&(t.x[i]=e,Alpine.store("x",{...t.x}))}finally{e.delete(i)}})();e.set(i,n)}return o?"object"==typeof o&&null!==o?new Proxy(o,{get(e,n){if(Array.isArray(e)){if(n===Symbol.iterator)return e[Symbol.iterator].bind(e);if("length"===n)return e.length}if("string"==typeof n){const i=r(e,n,t.currentLang);if(void 0!==i)return"object"==typeof i&&null!==i?new Proxy(i,{get(e,n){if(Array.isArray(e)){if(n===Symbol.iterator)return e[Symbol.iterator].bind(e);if("length"===n)return e.length}const i=r(e,n,t.currentLang);return void 0!==i?i:""}}):i}return e[n]}}):o:new Proxy([],{get:(e,t)=>t===Symbol.iterator?[][Symbol.iterator].bind(e):"length"===t?0:"then"!==t&&"catch"!==t&&"finally"!==t?Array.isArray(e)?[]:new Proxy({},{get:(e,t)=>["name","title","text","description"].includes(t)?"":Array.isArray(e[t])?[]:void 0}):void 0})}})})),Alpine.magic("pg",(()=>new Proxy(Alpine.store("pg"),{get:(e,t)=>e[t]}))),Alpine.magic("theme",(()=>({get current(){return Alpine.store("theme").current},set:t=>{e.setTheme(t),Alpine.store("theme",{...e.theme})},toggle:()=>{e.setTheme("toggle"),Alpine.store("theme",{...e.theme})},isDark:()=>document.documentElement.classList.contains("dark")}))),Alpine.magic("locale",(()=>({get current(){return t.currentLang},set:async e=>{try{await y.setLocale.bind(t)(e)}catch(e){}},isEnabled:()=>t.isLocalized}))),Alpine.magic("query",(()=>({add:n.updateQueryParams.bind(n,"add"),remove:n.updateQueryParams.bind(n,"remove"),set:n.updateQueryParams.bind(n,"set"),toggle:n.updateQueryParams.bind(n,"toggle"),clear:n.clearQueryParams.bind(n)}))),Alpine.magic("url",(()=>({get path(){return window.location.pathname},get params(){return n.getCurrentParams()},get query(){return n.getCurrentQueryParams()}}))),Alpine.magic("connection",(()=>{const e=navigator.userAgent.toLowerCase(),t=Alpine.reactive({isOffline:!navigator.onLine});window.addEventListener("online",(()=>{t.isOffline=!1})),window.addEventListener("offline",(()=>{t.isOffline=!0}));const n=e.includes("chrome")||e.includes("chromium"),r=e.includes("safari")&&!n,i=e.includes("firefox"),o=e.includes("edg"),s=e.includes("opr")||e.includes("opera");return{get offline(){return t.isOffline},get online(){return!t.isOffline},get chrome(){return n&&!o&&!s},get safari(){return r},get firefox(){return i},get edge(){return o},get opera(){return s}}})),this.initialized=!0}catch(e){throw e}}};var k,x;k=void 0,x=function(e){function t(e){return null==e}var n={isNothing:t,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:t(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,i,o;if(t)for(n=0,r=(o=Object.keys(t)).length;n<r;n+=1)e[i=o[n]]=t[i];return e}};function r(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=r(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(e){return this.name+": "+r(this,e)};var o=i;function s(e,t,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-t>a&&(t=r-a+(o=" ... ").length),n-r>a&&(n=r+a-(s=" ...").length),{str:o+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+o.length}}function a(e,t){return n.repeat(" ",t-e.length)+e}var l=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,i=/\r?\n|\r|\0/g,o=[0],l=[],c=-1;r=i.exec(e.buffer);)l.push(r.index),o.push(r.index+r[0].length),e.position<=r.index&&c<0&&(c=o.length-2);c<0&&(c=o.length-1);var u,p,h="",d=Math.min(e.line+t.linesAfter,l.length).toString().length,f=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(c-u<0);u++)p=s(e.buffer,o[c-u],l[c-u],e.position-(o[c]-o[c-u]),f),h=n.repeat(" ",t.indent)+a((e.line-u+1).toString(),d)+" | "+p.str+"\n"+h;for(p=s(e.buffer,o[c],l[c],e.position,f),h+=n.repeat(" ",t.indent)+a((e.line+1).toString(),d)+" | "+p.str+"\n",h+=n.repeat("-",t.indent+d+3+p.pos)+"^\n",u=1;u<=t.linesAfter&&!(c+u>=l.length);u++)p=s(e.buffer,o[c+u],l[c+u],e.position-(o[c]-o[c+u]),f),h+=n.repeat(" ",t.indent)+a((e.line+u+1).toString(),d)+" | "+p.str+"\n";return h.replace(/\n$/,"")},c=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],u=["scalar","sequence","mapping"],p=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===c.indexOf(t))throw new o('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===u.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function h(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)})),n[t]=e})),n}function d(e){return this.extend(e)}d.prototype.extend=function(e){var t=[],n=[];if(e instanceof p)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new o("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof p))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new o("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof p))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(d.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=h(r,"implicit"),r.compiledExplicit=h(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var f=d,g=new p("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),m=new p("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),y=new p("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),b=new f({explicit:[g,m,y]}),w=new p("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),k=new p("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function x(e){return 48<=e&&e<=55}function v(e){return 48<=e&&e<=57}var C=new p("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=e.length,i=0,o=!1;if(!r)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===r)return!0;if("b"===(t=e[++i])){for(i++;i<r;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(i++;i<r;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(i++;i<r;i++)if("_"!==(t=e[i])){if(!x(e.charCodeAt(i)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;i<r;i++)if("_"!==(t=e[i])){if(!v(e.charCodeAt(i)))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),A=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),S=/^[-+]?[0-9]+e/,E=new p("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!A.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(e))return"-0.0";return r=e.toString(10),S.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),T=b.extend({implicit:[w,k,C,E]}),L=T,I=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),P=new p("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==I.exec(e)||null!==$.exec(e))},construct:function(e){var t,n,r,i,o,s,a,l,c=0,u=null;if(null===(t=I.exec(e))&&(t=$.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),l=new Date(Date.UTC(n,r,i,o,s,a,c)),u&&l.setTime(l.getTime()-u),l},instanceOf:Date,represent:function(e){return e.toISOString()}}),O=new p("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",j=new p("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,i=e.length,o=M;for(n=0;n<i;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=M,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),s=s<<6|o.indexOf(r.charAt(t));return 0==(n=i%4*6)?(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)):18===n?(a.push(s>>10&255),a.push(s>>2&255)):12===n&&a.push(s>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",i=0,o=e.length,s=M;for(t=0;t<o;t++)t%3==0&&t&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+e[t];return 0==(n=o%3)?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}}),R=Object.prototype.hasOwnProperty,_=Object.prototype.toString,z=new p("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,o,s=[],a=e;for(t=0,n=a.length;t<n;t+=1){if(r=a[t],o=!1,"[object Object]"!==_.call(r))return!1;for(i in r)if(R.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==s.indexOf(i))return!1;s.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),N=Object.prototype.toString,D=new p("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],"[object Object]"!==N.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;o[t]=[i[0],r[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}}),F=Object.prototype.hasOwnProperty,H=new p("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(F.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),q=L.extend({implicit:[P,O],explicit:[j,z,D,H]}),U=Object.prototype.hasOwnProperty,B=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,W=/[\x85\u2028\u2029]/,Q=/[,\[\]\{\}]/,V=/^(?:!|!!|![a-z\-]+!)$/i,Z=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function X(e){return Object.prototype.toString.call(e)}function Y(e){return 10===e||13===e}function J(e){return 9===e||32===e}function G(e){return 9===e||32===e||10===e||13===e}function K(e){return 44===e||91===e||93===e||123===e||125===e}function ee(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function te(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function ne(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var re=new Array(256),ie=new Array(256),oe=0;oe<256;oe++)re[oe]=te(oe)?1:0,ie[oe]=te(oe);function se(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||q,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ae(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=l(n),new o(t,n)}function le(e,t){throw ae(e,t)}function ce(e,t){e.onWarning&&e.onWarning.call(null,ae(e,t))}var ue={YAML:function(e,t,n){var r,i,o;null!==e.version&&le(e,"duplication of %YAML directive"),1!==n.length&&le(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&le(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&le(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&ce(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&le(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],V.test(r)||le(e,"ill-formed tag handle (first argument) of the TAG directive"),U.call(e.tagMap,r)&&le(e,'there is a previously declared suffix for "'+r+'" tag handle'),Z.test(i)||le(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){le(e,"tag prefix is malformed: "+i)}e.tagMap[r]=i}};function pe(e,t,n,r){var i,o,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||le(e,"expected valid JSON character");else B.test(a)&&le(e,"the stream contains non-printable characters");e.result+=a}}function he(e,t,r,i){var o,s,a,l;for(n.isObject(r)||le(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,l=(o=Object.keys(r)).length;a<l;a+=1)s=o[a],U.call(t,s)||(t[s]=r[s],i[s]=!0)}function de(e,t,n,r,i,o,s,a,l){var c,u;if(Array.isArray(i))for(c=0,u=(i=Array.prototype.slice.call(i)).length;c<u;c+=1)Array.isArray(i[c])&&le(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===X(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===X(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)he(e,t,o[c],n);else he(e,t,o,n);else e.json||U.call(n,i)||!U.call(t,i)||(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,le(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete n[i];return t}function fe(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):le(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ge(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;J(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!Y(i))break;for(fe(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&ce(e,"deficient indentation"),r}function me(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!G(t)))}function ye(e,t){1===t?e.result+=" ":t>1&&(e.result+=n.repeat("\n",t-1))}function be(e,t){var n,r,i=e.tag,o=e.anchor,s=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),45===r)&&G(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,ge(e,!0,-1)&&e.lineIndent<=t)s.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,xe(e,t,3,!1,!0),s.push(e.result),ge(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)le(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=s,!0)}function we(e){var t,n,r,i,o=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&le(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):le(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!G(i);)33===i&&(s?le(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),V.test(n)||le(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),Q.test(r)&&le(e,"tag suffix cannot contain flow indicator characters")}r&&!Z.test(r)&&le(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(t){le(e,"tag name is malformed: "+r)}return o?e.tag=r:U.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:le(e,'undeclared tag handle "'+n+'"'),!0}function ke(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&le(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!G(n)&&!K(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function xe(e,t,r,i,o){var s,a,l,c,u,p,h,d,f,g=1,m=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=4===r||3===r,i&&ge(e,!0,-1)&&(m=!0,e.lineIndent>t?g=1:e.lineIndent===t?g=0:e.lineIndent<t&&(g=-1)),1===g)for(;we(e)||ke(e);)ge(e,!0,-1)?(m=!0,l=s,e.lineIndent>t?g=1:e.lineIndent===t?g=0:e.lineIndent<t&&(g=-1)):l=!1;if(l&&(l=m||o),1!==g&&4!==r||(d=1===r||2===r?t:t+1,f=e.position-e.lineStart,1===g?l&&(be(e,f)||function(e,t,n){var r,i,o,s,a,l,c,u=e.tag,p=e.anchor,h={},d=Object.create(null),f=null,g=null,m=null,y=!1,b=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),c=e.input.charCodeAt(e.position);0!==c;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,63!==c&&58!==c||!G(r)){if(s=e.line,a=e.lineStart,l=e.position,!xe(e,n,2,!1,!0))break;if(e.line===o){for(c=e.input.charCodeAt(e.position);J(c);)c=e.input.charCodeAt(++e.position);if(58===c)G(c=e.input.charCodeAt(++e.position))||le(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(de(e,h,d,f,g,null,s,a,l),f=g=m=null),b=!0,y=!1,i=!1,f=e.tag,g=e.result;else{if(!b)return e.tag=u,e.anchor=p,!0;le(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=u,e.anchor=p,!0;le(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(y&&(de(e,h,d,f,g,null,s,a,l),f=g=m=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):le(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=r;if((e.line===o||e.lineIndent>t)&&(y&&(s=e.line,a=e.lineStart,l=e.position),xe(e,t,4,!0,i)&&(y?g=e.result:m=e.result),y||(de(e,h,d,f,g,m,s,a,l),f=g=m=null),ge(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&0!==c)le(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&de(e,h,d,f,g,null,s,a,l),b&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=h),b}(e,f,d))||function(e,t){var n,r,i,o,s,a,l,c,u,p,h,d,f=!0,g=e.tag,m=e.anchor,y=Object.create(null);if(91===(d=e.input.charCodeAt(e.position)))s=93,c=!1,o=[];else{if(123!==d)return!1;s=125,c=!0,o={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),d=e.input.charCodeAt(++e.position);0!==d;){if(ge(e,!0,t),(d=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=g,e.anchor=m,e.kind=c?"mapping":"sequence",e.result=o,!0;f?44===d&&le(e,"expected the node content, but found ','"):le(e,"missed comma between flow collection entries"),h=null,a=l=!1,63===d&&G(e.input.charCodeAt(e.position+1))&&(a=l=!0,e.position++,ge(e,!0,t)),n=e.line,r=e.lineStart,i=e.position,xe(e,t,1,!1,!0),p=e.tag,u=e.result,ge(e,!0,t),d=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==d||(a=!0,d=e.input.charCodeAt(++e.position),ge(e,!0,t),xe(e,t,1,!1,!0),h=e.result),c?de(e,o,y,p,u,h,n,r,i):a?o.push(de(e,null,y,p,u,h,n,r,i)):o.push(u),ge(e,!0,t),44===(d=e.input.charCodeAt(e.position))?(f=!0,d=e.input.charCodeAt(++e.position)):f=!1}le(e,"unexpected end of the stream within a flow collection")}(e,d)?y=!0:(a&&function(e,t){var r,i,o,s,a,l=1,c=!1,u=!1,p=t,h=0,d=!1;if(124===(s=e.input.charCodeAt(e.position)))i=!1;else{if(62!==s)return!1;i=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)1===l?l=43===s?3:2:le(e,"repeat of a chomping mode identifier");else{if(!((o=48<=(a=s)&&a<=57?a-48:-1)>=0))break;0===o?le(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?le(e,"repeat of an indentation width identifier"):(p=t+o-1,u=!0)}if(J(s)){do{s=e.input.charCodeAt(++e.position)}while(J(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!Y(s)&&0!==s)}for(;0!==s;){for(fe(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!u||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>p&&(p=e.lineIndent),Y(s))h++;else{if(e.lineIndent<p){3===l?e.result+=n.repeat("\n",c?1+h:h):1===l&&c&&(e.result+="\n");break}for(i?J(s)?(d=!0,e.result+=n.repeat("\n",c?1+h:h)):d?(d=!1,e.result+=n.repeat("\n",h+1)):0===h?c&&(e.result+=" "):e.result+=n.repeat("\n",h):e.result+=n.repeat("\n",c?1+h:h),c=!0,u=!0,h=0,r=e.position;!Y(s)&&0!==s;)s=e.input.charCodeAt(++e.position);pe(e,r,e.position,!1)}}return!0}(e,d)||function(e,t){var n,r,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(pe(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else Y(n)?(pe(e,r,i,!0),ye(e,ge(e,!1,t)),r=i=e.position):e.position===e.lineStart&&me(e)?le(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);le(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var n,r,i,o,s,a,l;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return pe(e,n,e.position,!0),e.position++,!0;if(92===a){if(pe(e,n,e.position,!0),Y(a=e.input.charCodeAt(++e.position)))ge(e,!1,t);else if(a<256&&re[a])e.result+=ie[a],e.position++;else if((s=120===(l=a)?2:117===l?4:85===l?8:0)>0){for(i=s,o=0;i>0;i--)(s=ee(a=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+s:le(e,"expected hexadecimal character");e.result+=ne(o),e.position++}else le(e,"unknown escape sequence");n=r=e.position}else Y(a)?(pe(e,n,r,!0),ye(e,ge(e,!1,t)),n=r=e.position):e.position===e.lineStart&&me(e)?le(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}le(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?y=!0:function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!G(r)&&!K(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),U.call(e.anchorMap,n)||le(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],ge(e,!0,-1),!0}(e)?(y=!0,null===e.tag&&null===e.anchor||le(e,"alias node should not have any properties")):function(e,t,n){var r,i,o,s,a,l,c,u,p=e.kind,h=e.result;if(G(u=e.input.charCodeAt(e.position))||K(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(G(r=e.input.charCodeAt(e.position+1))||n&&K(r)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,s=!1;0!==u;){if(58===u){if(G(r=e.input.charCodeAt(e.position+1))||n&&K(r))break}else if(35===u){if(G(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&me(e)||n&&K(u))break;if(Y(u)){if(a=e.line,l=e.lineStart,c=e.lineIndent,ge(e,!1,-1),e.lineIndent>=t){s=!0,u=e.input.charCodeAt(e.position);continue}e.position=o,e.line=a,e.lineStart=l,e.lineIndent=c;break}}s&&(pe(e,i,o,!1),ye(e,e.line-a),i=o=e.position,s=!1),J(u)||(o=e.position+1),u=e.input.charCodeAt(++e.position)}return pe(e,i,o,!1),!!e.result||(e.kind=p,e.result=h,!1)}(e,d,1===r)&&(y=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===g&&(y=l&&be(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&le(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,u=e.implicitTypes.length;c<u;c+=1)if((h=e.implicitTypes[c]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(U.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,c=0,u=(p=e.typeMap.multi[e.kind||"fallback"]).length;c<u;c+=1)if(e.tag.slice(0,p[c].tag.length)===p[c].tag){h=p[c];break}h||le(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&le(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):le(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function ve(e){var t,n,r,i,o=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(ge(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!G(i);)i=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&le(e,"directive name must not be less than one character in length");0!==i;){for(;J(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!Y(i));break}if(Y(i))break;for(t=e.position;0!==i&&!G(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&fe(e),U.call(ue,n)?ue[n](e,n,r):ce(e,'unknown document directive "'+n+'"')}ge(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,ge(e,!0,-1)):s&&le(e,"directives end mark is expected"),xe(e,e.lineIndent-1,4,!1,!0),ge(e,!0,-1),e.checkLineBreaks&&W.test(e.input.slice(o,e.position))&&ce(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&me(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,ge(e,!0,-1)):e.position<e.length-1&&le(e,"end of the stream or a document separator is expected")}function Ce(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new se(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,le(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)ve(n);return n.documents}var Ae=function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=Ce(e,n);if("function"!=typeof t)return r;for(var i=0,o=r.length;i<o;i+=1)t(r[i])},Se=function(e,t){var n=Ce(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new o("expected a single document in the stream, but found more")}},Ee=Object.prototype.toString,Te=Object.prototype.hasOwnProperty,Le=65279,Ie={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},$e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Pe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Oe(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else{if(!(e<=4294967295))throw new o("code point within a string may not be greater than 0xFFFFFFFF");r="U",i=8}return"\\"+r+n.repeat("0",i-t.length)+t}function Me(e){this.schema=e.schema||q,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,i,o,s,a,l;if(null===t)return{};for(n={},i=0,o=(r=Object.keys(t)).length;i<o;i+=1)s=r[i],a=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(l=e.compiledTypeMap.fallback[s])&&Te.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[s]=a;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function je(e,t){for(var r,i=n.repeat(" ",t),o=0,s=-1,a="",l=e.length;o<l;)-1===(s=e.indexOf("\n",o))?(r=e.slice(o),o=l):(r=e.slice(o,s+1),o=s+1),r.length&&"\n"!==r&&(a+=i),a+=r;return a}function Re(e,t){return"\n"+n.repeat(" ",e.indent*t)}function _e(e){return 32===e||9===e}function ze(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==Le||65536<=e&&e<=1114111}function Ne(e){return ze(e)&&e!==Le&&13!==e&&10!==e}function De(e,t,n){var r=Ne(e),i=r&&!_e(e);return(n?r:r&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||Ne(t)&&!_e(t)&&35===e||58===t&&i}function Fe(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function He(e){return/^\n* /.test(e)}function qe(e,t,n,r,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==$e.indexOf(t)||Pe.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,n),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=r||e.flowLevel>-1&&n>=e.flowLevel;switch(function(e,t,n,r,i,o,s,a){var l,c,u=0,p=null,h=!1,d=!1,f=-1!==r,g=-1,m=ze(c=Fe(e,0))&&c!==Le&&!_e(c)&&45!==c&&63!==c&&58!==c&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c&&35!==c&&38!==c&&42!==c&&33!==c&&124!==c&&61!==c&&62!==c&&39!==c&&34!==c&&37!==c&&64!==c&&96!==c&&function(e){return!_e(e)&&58!==e}(Fe(e,e.length-1));if(t||s)for(l=0;l<e.length;u>=65536?l+=2:l++){if(!ze(u=Fe(e,l)))return 5;m=m&&De(u,p,a),p=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(10===(u=Fe(e,l)))h=!0,f&&(d=d||l-g-1>r&&" "!==e[g+1],g=l);else if(!ze(u))return 5;m=m&&De(u,p,a),p=u}d=d||f&&l-g-1>r&&" "!==e[g+1]}return h||d?n>9&&He(e)?5:s?2===o?5:2:d?4:3:!m||s||i(e)?2===o?5:2:1}(t,l,e.indent,a,(function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!r,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+Ue(t,e.indent)+Be(je(t,s));case 4:return">"+Ue(t,e.indent)+Be(je(function(e,t){for(var n,r,i,o=/(\n+)([^\n]*)/g,s=(i=-1!==(i=e.indexOf("\n"))?i:e.length,o.lastIndex=i,We(e.slice(0,i),t)),a="\n"===e[0]||" "===e[0];r=o.exec(e);){var l=r[1],c=r[2];n=" "===c[0],s+=l+(a||n||""===c?"":"\n")+We(c,t),a=n}return s}(t,a),s));case 5:return'"'+function(e){for(var t,n="",r=0,i=0;i<e.length;r>=65536?i+=2:i++)r=Fe(e,i),!(t=Ie[r])&&ze(r)?(n+=e[i],r>=65536&&(n+=e[i+1])):n+=t||Oe(r);return n}(t)+'"';default:throw new o("impossible error: invalid scalar style")}}()}function Ue(e,t){var n=He(e)?String(t):"",r="\n"===e[e.length-1];return n+(!r||"\n"!==e[e.length-2]&&"\n"!==e?r?"":"-":"+")+"\n"}function Be(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function We(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,o=0,s=0,a=0,l="";n=i.exec(e);)(a=n.index)-o>t&&(r=s>o?s:a,l+="\n"+e.slice(o,r),o=r+1),s=a;return l+="\n",e.length-o>t&&s>o?l+=e.slice(o,s)+"\n"+e.slice(s+1):l+=e.slice(o),l.slice(1)}function Qe(e,t,n,r){var i,o,s,a="",l=e.tag;for(i=0,o=n.length;i<o;i+=1)s=n[i],e.replacer&&(s=e.replacer.call(n,String(i),s)),(Ze(e,t+1,s,!0,!0,!1,!0)||void 0===s&&Ze(e,t+1,null,!0,!0,!1,!0))&&(r&&""===a||(a+=Re(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=l,e.dump=a||"[]"}function Ve(e,t,n){var r,i,s,a,l,c;for(s=0,a=(i=n?e.explicitTypes:e.implicitTypes).length;s<a;s+=1)if(((l=i[s]).instanceOf||l.predicate)&&(!l.instanceOf||"object"==typeof t&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(n?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===Ee.call(l.represent))r=l.represent(t,c);else{if(!Te.call(l.represent,c))throw new o("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');r=l.represent[c](t,c)}e.dump=r}return!0}return!1}function Ze(e,t,n,r,i,s,a){e.tag=null,e.dump=n,Ve(e,n,!1)||Ve(e,n,!0);var l,c=Ee.call(e.dump),u=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var p,h,d="[object Object]"===c||"[object Array]"===c;if(d&&(h=-1!==(p=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&h&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),"[object Object]"===c)r&&0!==Object.keys(e.dump).length?(function(e,t,n,r){var i,s,a,l,c,u,p="",h=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new o("sortKeys must be a boolean or a function");for(i=0,s=d.length;i<s;i+=1)u="",r&&""===p||(u+=Re(e,t)),l=n[a=d[i]],e.replacer&&(l=e.replacer.call(n,a,l)),Ze(e,t+1,a,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,c&&(u+=Re(e,t)),Ze(e,t+1,l,!0,c)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=":":u+=": ",p+=u+=e.dump));e.tag=h,e.dump=p||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+p+e.dump)):(function(e,t,n){var r,i,o,s,a,l="",c=e.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)a="",""!==l&&(a+=", "),e.condenseFlow&&(a+='"'),s=n[o=u[r]],e.replacer&&(s=e.replacer.call(n,o,s)),Ze(e,t,o,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ze(e,t,s,!1,!1)&&(l+=a+=e.dump));e.tag=c,e.dump="{"+l+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+p+" "+e.dump));else if("[object Array]"===c)r&&0!==e.dump.length?(e.noArrayIndent&&!a&&t>0?Qe(e,t-1,e.dump,i):Qe(e,t,e.dump,i),h&&(e.dump="&ref_"+p+e.dump)):(function(e,t,n){var r,i,o,s="",a=e.tag;for(r=0,i=n.length;r<i;r+=1)o=n[r],e.replacer&&(o=e.replacer.call(n,String(r),o)),(Ze(e,t,o,!1,!1)||void 0===o&&Ze(e,t,null,!1,!1))&&(""!==s&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=a,e.dump="["+s+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+p+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new o("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&qe(e,e.dump,t,s,u)}null!==e.tag&&"?"!==e.tag&&(l=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),l="!"===e.tag[0]?"!"+l:"tag:yaml.org,2002:"===l.slice(0,18)?"!!"+l.slice(18):"!<"+l+">",e.dump=l+" "+e.dump)}return!0}function Xe(e,t){var n,r,i=[],o=[];for(Ye(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=new Array(r)}function Ye(e,t,n){var r,i,o;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Ye(e[i],t,n);else for(i=0,o=(r=Object.keys(e)).length;i<o;i+=1)Ye(e[r[i]],t,n)}function Je(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Ge=p,Ke=f,et=b,tt=T,nt=L,rt=q,it=Se,ot=Ae,st=function(e,t){var n=new Me(t=t||{});n.noRefs||Xe(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ze(n,0,r,!0,!0)?n.dump+"\n":""},at=o,lt={binary:j,float:E,map:y,null:w,pairs:D,set:H,timestamp:P,bool:k,int:C,merge:O,omap:z,seq:m,str:g},ct=Je("safeLoad","load"),ut=Je("safeLoadAll","loadAll"),pt=Je("safeDump","dump"),ht={Type:Ge,Schema:Ke,FAILSAFE_SCHEMA:et,JSON_SCHEMA:tt,CORE_SCHEMA:nt,DEFAULT_SCHEMA:rt,load:it,loadAll:ot,dump:st,YAMLException:at,types:lt,safeLoad:ct,safeLoadAll:ut,safeDump:pt};e.CORE_SCHEMA=nt,e.DEFAULT_SCHEMA=rt,e.FAILSAFE_SCHEMA=et,e.JSON_SCHEMA=tt,e.Schema=Ke,e.Type=Ge,e.YAMLException=at,e.default=ht,e.dump=st,e.load=it,e.loadAll=ot,e.safeDump=pt,e.safeLoad=ct,e.safeLoadAll=ut,e.types=lt,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?x(exports):"function"==typeof define&&define.amd?define(["exports"],x):x((k="undefined"!=typeof globalThis?globalThis:k||self).jsyaml={});const v=jsyaml;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).marked={})}(void 0,(function(e){function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function n(t){e.defaults=t}e.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const r=/[&<>"']/,i=new RegExp(r.source,"g"),o=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,s=new RegExp(o.source,"g"),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=e=>a[e];function c(e,t){if(t){if(r.test(e))return e.replace(i,l)}else if(o.test(e))return e.replace(s,l);return e}const u=/(^|[^\[])\^/g;function p(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(u,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}function h(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const d={exec:()=>null};function f(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function g(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function m(e,t,n,r){const i=t.href,o=t.title?c(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:c(s)}}class y{options;rules;lexer;constructor(t){this.options=t||e.defaults}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:g(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=g(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:g(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=g(t[0],"\n").split("\n"),n="",r="";const i=[];for(;e.length>0;){let t=!1;const o=[];let s;for(s=0;s<e.length;s++)if(/^ {0,3}>/.test(e[s]))o.push(e[s]),t=!0;else{if(t)break;o.push(e[s])}e=e.slice(s);const a=o.join("\n"),l=a.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}\n${a}`:a,r=r?`${r}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;const u=i[i.length-1];if("code"===u?.type)break;if("blockquote"===u?.type){const t=u,o=t.raw+"\n"+e.join("\n"),s=this.blockquote(o);i[i.length-1]=s,n=n.substring(0,n.length-t.raw.length)+s.raw,r=r.substring(0,r.length-t.text.length)+s.text;break}if("list"!==u?.type);else{const t=u,o=t.raw+"\n"+e.join("\n"),s=this.list(o);i[i.length-1]=s,n=n.substring(0,n.length-u.raw.length)+s.raw,r=r.substring(0,r.length-t.raw.length)+s.raw,e=o.substring(i[i.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let s=!1;for(;e;){let n=!1,r="",a="";if(!(t=o.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=!l.trim(),p=0;if(this.options.pedantic?(p=2,a=l.trimStart()):u?p=t[1].length+1:(p=t[2].search(/[^ ]/),p=p>4?1:p,a=l.slice(p),p+=t[1].length),u&&/^[ \t]*$/.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,p-1)}}#`),s=new RegExp(`^ {0,${Math.min(3,p-1)}}<[a-z].*>`,"i");for(;e;){const h=e.split("\n",1)[0];let d;if(c=h,this.options.pedantic?(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),d=c):d=c.replace(/\t/g,"    "),i.test(c))break;if(o.test(c))break;if(s.test(c))break;if(t.test(c))break;if(n.test(c))break;if(d.search(/[^ ]/)>=p||!c.trim())a+="\n"+d.slice(p);else{if(u)break;if(l.replace(/\t/g,"    ").search(/[^ ]/)>=4)break;if(i.test(l))break;if(o.test(l))break;if(n.test(l))break;a+="\n"+c}u||c.trim()||(u=!0),r+=h+"\n",e=e.substring(h.length+1),l=d.slice(p)}}i.loose||(s?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(r)&&(s=!0));let h,d=null;this.options.gfm&&(d=/^\[[ xX]\] /.exec(a),d&&(h="[ ] "!==d[0],a=a.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:r,task:!!d,checked:h,loose:!1,text:a,tokens:[]}),i.raw+=r}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=f(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?o.align.push("right"):/^ *:-+: *$/.test(e)?o.align.push("center"):/^ *:-+ *$/.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(const e of i)o.rows.push(f(e,o.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]}))));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:c(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=g(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),m(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return m(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let i,o,s=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+a);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+o);if(Math.min(n,o)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=c(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=c(t[1]),n="mailto:"+e):(e=c(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=c(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=c(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:c(t[0]),{type:"text",raw:t[0],text:e}}}}const b=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,w=/(?:[*+-]|\d{1,9}[.)])/,k=p(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,w).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),x=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,v=/(?!\s*\])(?:\\.|[^\[\]\\])+/,C=p(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",v).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),A=p(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,w).getRegex(),S="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",E=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,T=p("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",E).replace("tag",S).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),L=p(x).replace("hr",b).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S).getRegex(),I={blockquote:p(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",L).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:C,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:b,html:T,lheading:k,list:A,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:L,table:d,text:/^[^\n]+/},$=p("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",b).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S).getRegex(),P={...I,table:$,paragraph:p(x).replace("hr",b).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S).getRegex()},O={...I,html:p("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",E).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:d,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:p(x).replace("hr",b).replace("heading"," *#{1,6} *[^\n]").replace("lheading",k).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},M=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,j=/^( {2,}|\\)\n(?!\s*$)/,R="\\p{P}\\p{S}",_=p(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,R).getRegex(),z=p(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,R).getRegex(),N=p("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,R).getRegex(),D=p("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,R).getRegex(),F=p(/\\([punct])/,"gu").replace(/punct/g,R).getRegex(),H=p(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),q=p(E).replace("(?:--\x3e|$)","--\x3e").getRegex(),U=p("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",q).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),B=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W=p(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",B).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Q=p(/^!?\[(label)\]\[(ref)\]/).replace("label",B).replace("ref",v).getRegex(),V=p(/^!?\[(ref)\](?:\[\])?/).replace("ref",v).getRegex(),Z={_backpedal:d,anyPunctuation:F,autolink:H,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:j,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:d,emStrongLDelim:z,emStrongRDelimAst:N,emStrongRDelimUnd:D,escape:M,link:W,nolink:V,punctuation:_,reflink:Q,reflinkSearch:p("reflink|nolink(?!\\()","g").replace("reflink",Q).replace("nolink",V).getRegex(),tag:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:d},X={...Z,link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",B).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B).getRegex()},Y={...Z,escape:p(M).replace("])","~|])").getRegex(),url:p(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},J={...Y,br:p(j).replace("{2,}","*").getRegex(),text:p(Y.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},G={normal:I,gfm:P,pedantic:O},K={normal:Z,gfm:Y,breaks:J,pedantic:X};class ee{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:G.normal,inline:K.normal};this.options.pedantic?(n.block=G.pedantic,n.inline=K.pedantic):this.options.gfm&&(n.block=G.gfm,this.options.breaks?n.inline=K.breaks:n.inline=K.gfm),this.tokenizer.rules=n}static get rules(){return{block:G,inline:K}}static lex(e,t){return new ee(t).lex(e)}static lexInline(e,t){return new ee(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){let r,i,o;for(this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o)))i=t[t.length-1],n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),n=o.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class te{options;parser;constructor(t){this.options=t||e.defaults}space(e){return""}code({text:e,lang:t,escaped:n}){const r=(t||"").match(/^\S*/)?.[0],i=e.replace(/\n$/,"")+"\n";return r?'<pre><code class="language-'+c(r)+'">'+(n?i:c(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:c(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let r="";for(let t=0;t<e.items.length;t++){const n=e.items[t];r+=this.listitem(n)}const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&"paragraph"===e.tokens[0].type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){const i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=h(e);if(null===i)return r;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n}){const r=h(e);if(null===r)return n;let i=`<img src="${e=r}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class ne{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class re{options;renderer;textRenderer;constructor(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ne}static parse(e,t){return new re(t).parse(e)}static parseInline(e,t){return new re(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const o=i;switch(o.type){case"space":n+=this.renderer.space(o);continue;case"hr":n+=this.renderer.hr(o);continue;case"heading":n+=this.renderer.heading(o);continue;case"code":n+=this.renderer.code(o);continue;case"table":n+=this.renderer.table(o);continue;case"blockquote":n+=this.renderer.blockquote(o);continue;case"list":n+=this.renderer.list(o);continue;case"html":n+=this.renderer.html(o);continue;case"paragraph":n+=this.renderer.paragraph(o);continue;case"text":{let i=o,s=this.renderer.text(i);for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],s+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s}]}):s;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}const o=i;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}}class ie{options;block;constructor(t){this.options=t||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ee.lex:ee.lexInline}provideParser(){return this.block?re.parse:re.parseInline}}class oe{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=re;Renderer=te;TextRenderer=ne;Lexer=ee;Tokenizer=y;Hooks=ie;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new te(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,i=e.renderer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new y(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,i=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new ie;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,i=e.hooks[r],o=t[r];ie.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then((e=>o.call(t,e)));const n=i.call(t,e);return o.call(t,n)}:t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ee.lex(e,t??this.defaults)}parser(e,t){return re.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const s=i.hooks?i.hooks.provideLexer():e?ee.lex:ee.lexInline,a=i.hooks?i.hooks.provideParser():e?re.parse:re.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then((e=>s(e,i))).then((e=>i.hooks?i.hooks.processAllTokens(e):e)).then((e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then((()=>e)):e)).then((e=>a(e,i))).then((e=>i.hooks?i.hooks.postprocess(e):e)).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let e=s(t,i);i.hooks&&(e=i.hooks.processAllTokens(e)),i.walkTokens&&this.walkTokens(e,i.walkTokens);let n=a(e,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+c(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}}const se=new oe;function ae(e,t){return se.parse(e,t)}ae.options=ae.setOptions=function(e){return se.setOptions(e),ae.defaults=se.defaults,n(ae.defaults),ae},ae.getDefaults=t,ae.defaults=e.defaults,ae.use=function(...e){return se.use(...e),ae.defaults=se.defaults,n(ae.defaults),ae},ae.walkTokens=function(e,t){return se.walkTokens(e,t)},ae.parseInline=se.parseInline,ae.Parser=re,ae.parser=re.parse,ae.Renderer=te,ae.TextRenderer=ne,ae.Lexer=ee,ae.lexer=ee.lex,ae.Tokenizer=y,ae.Hooks=ie,ae.parse=ae;const le=ae.options,ce=ae.setOptions,ue=ae.use,pe=ae.walkTokens,he=ae.parseInline,de=ae,fe=re.parse,ge=ee.lex;e.Hooks=ie,e.Lexer=ee,e.Marked=oe,e.Parser=re,e.Renderer=te,e.TextRenderer=ne,e.Tokenizer=y,e.getDefaults=t,e.lexer=ge,e.marked=ae,e.options=le,e.parse=de,e.parseInline=he,e.parser=fe,e.setOptions=ce,e.use=ue,e.walkTokens=pe}));const C=self.marked;var A=function(e){const t=Object.freeze({left:0,top:0,width:16,height:16}),n=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),r=Object.freeze({...t,...n}),i=Object.freeze({...r,body:"",hidden:!1});function o(e,t){const r=function(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}(e,t);for(const o in i)o in n?o in e&&!(o in r)&&(r[o]=n[o]):o in t?r[o]=t[o]:o in e&&(r[o]=e[o]);return r}function s(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let s={};function a(e){s=o(r[e]||i[e],s)}return a(t),n.forEach(a),o(e,s)}const a=/^[a-z0-9]+(-[a-z0-9]+)*$/,l=(e,t,n,r="")=>{const i=e.split(":");if("@"===e.slice(0,1)){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const e=i.pop(),n=i.pop(),o={provider:i.length>0?i[0]:r,prefix:n,name:e};return t&&!c(o)?null:o}const o=i[0],s=o.split("-");if(s.length>1){const e={provider:r,prefix:s.shift(),name:s.join("-")};return t&&!c(e)?null:e}if(n&&""===r){const e={provider:r,prefix:"",name:o};return t&&!c(e,n)?null:e}return null},c=(e,t)=>!!e&&!(""!==e.provider&&!e.provider.match(a)||!(t&&""===e.prefix||e.prefix.match(a))||!e.name.match(a)),u={provider:"",aliases:{},not_found:{},...t};function p(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}const h=Object.create(null);function d(e,t){const n=h[e]||(h[e]=Object.create(null));return n[t]||(n[t]=function(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}(e,t))}function f(e,t){return function(e){if("object"!=typeof e||null===e)return null;const t=e;if("string"!=typeof t.prefix||!e.icons||"object"!=typeof e.icons)return null;if(!p(e,u))return null;const n=t.icons;for(const e in n){const t=n[e];if(!e.match(a)||"string"!=typeof t.body||!p(t,i))return null}const r=t.aliases||Object.create(null);for(const e in r){const t=r[e],o=t.parent;if(!e.match(a)||"string"!=typeof o||!n[o]&&!r[o]||!p(t,i))return null}return t}(t)?function(e,t){const n=[];if("object"!=typeof e||"object"!=typeof e.icons)return n;e.not_found instanceof Array&&e.not_found.forEach((e=>{t(e,null),n.push(e)}));const r=function(e){const t=e.icons,n=e.aliases||Object.create(null),r=Object.create(null);return Object.keys(t).concat(Object.keys(n)).forEach((function e(i){if(t[i])return r[i]=[];if(!(i in r)){r[i]=null;const t=n[i]&&n[i].parent,o=t&&e(t);o&&(r[i]=[t].concat(o))}return r[i]})),r}(e);for(const i in r){const o=r[i];o&&(t(i,s(e,i,o)),n.push(i))}return n}(t,((t,n)=>{n?e.icons[t]=n:e.missing.add(t)})):[]}function g(e,t){let n=[];return("string"==typeof e?[e]:Object.keys(h)).forEach((e=>{("string"==typeof e&&"string"==typeof t?[t]:Object.keys(h[e]||{})).forEach((t=>{const r=d(e,t);n=n.concat(Object.keys(r.icons).map((n=>(""!==e?"@"+e+":":"")+t+":"+n)))}))})),n}let m=!1;function y(e){const t="string"==typeof e?l(e,!0,m):e;if(t){const e=d(t.provider,t.prefix),n=t.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function b(e,t){const n=l(e,!0,m);return!!n&&function(e,t,n){try{if("string"==typeof n.body)return e.icons[t]={...n},!0}catch(e){}return!1}(d(n.provider,n.prefix),n.name,t)}function w(e,t){if("object"!=typeof e)return!1;"string"!=typeof t&&(t=e.provider||"");const n=e.prefix;return!!c({provider:t,prefix:n,name:"a"})&&!!f(d(t,n),e)}function k(e){return!!y(e)}function x(e){const t=y(e);return t?{...r,...t}:null}const v=Object.freeze({width:null,height:null}),C=Object.freeze({...v,...n}),A=/(-?[0-9.]*[0-9]+[0-9.]*)/g,S=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function E(e,t,n){if(1===t)return e;if(n=n||100,"number"==typeof e)return Math.ceil(e*t*n)/n;if("string"!=typeof e)return e;const r=e.split(A);if(null===r||!r.length)return e;const i=[];let o=r.shift(),s=S.test(o);for(;;){if(s){const e=parseFloat(o);isNaN(e)?i.push(o):i.push(Math.ceil(e*t*n)/n)}else i.push(o);if(o=r.shift(),void 0===o)return i.join("");s=!s}}function T(e,t){const n={...r,...e},i={...C,...t},o={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,i].forEach((e=>{const t=[],n=e.hFlip,r=e.vFlip;let i,a=e.rotate;switch(n?r?a+=2:(t.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),t.push("scale(-1 1)"),o.top=o.left=0):r&&(t.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),t.push("scale(1 -1)"),o.top=o.left=0),a<0&&(a-=4*Math.floor(a/4)),a%=4,a){case 1:i=o.height/2+o.top,t.unshift("rotate(90 "+i.toString()+" "+i.toString()+")");break;case 2:t.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:i=o.width/2+o.left,t.unshift("rotate(-90 "+i.toString()+" "+i.toString()+")")}a%2==1&&(o.left!==o.top&&(i=o.left,o.left=o.top,o.top=i),o.width!==o.height&&(i=o.width,o.width=o.height,o.height=i)),t.length&&(s='<g transform="'+t.join(" ")+'">'+s+"</g>")}));const a=i.width,l=i.height,c=o.width,u=o.height;let p,h;null===a?(h=null===l?"1em":"auto"===l?u:l,p=E(h,c/u)):(p="auto"===a?c:a,h=null===l?E(p,u/c):"auto"===l?u:l);const d={},f=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(d[e]=t.toString())};return f("width",p),f("height",h),d.viewBox=o.left.toString()+" "+o.top.toString()+" "+c.toString()+" "+u.toString(),{attributes:d,body:s}}const L=/\sid="(\S+)"/g,I="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let $=0;function P(e,t=I){const n=[];let r;for(;r=L.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach((n=>{const r="function"==typeof t?t(n):t+($++).toString(),o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+r+i+"$3")})),e=e.replace(new RegExp(i,"g"),"")}const O={local:!0,session:!0},M={local:new Set,session:new Set};let j=!1;const R="iconify2",_="iconify",z=_+"-count",N=_+"-version",D=36e5;function F(e,t){try{return e.getItem(t)}catch(e){}}function H(e,t,n){try{return e.setItem(t,n),!0}catch(e){}}function q(e,t){try{e.removeItem(t)}catch(e){}}function U(e,t){return H(e,z,t.toString())}function B(e){return parseInt(F(e,z))||0}let W="undefined"==typeof window?{}:window;function Q(e){const t=e+"Storage";try{if(W&&W[t]&&"number"==typeof W[t].length)return W[t]}catch(e){}O[e]=!1}function V(e,t){const n=Q(e);if(!n)return;const r=F(n,N);if(r!==R){if(r){const e=B(n);for(let t=0;t<e;t++)q(n,_+t.toString())}return H(n,N,R),void U(n,0)}const i=Math.floor(Date.now()/D)-168,o=e=>{const r=_+e.toString(),o=F(n,r);if("string"==typeof o){try{const n=JSON.parse(o);if("object"==typeof n&&"number"==typeof n.cached&&n.cached>i&&"string"==typeof n.provider&&"object"==typeof n.data&&"string"==typeof n.data.prefix&&t(n,e))return!0}catch(e){}q(n,r)}};let s=B(n);for(let t=s-1;t>=0;t--)o(t)||(t===s-1?(s--,U(n,s)):M[e].add(t))}function Z(){if(!j){j=!0;for(const e in O)V(e,(e=>{const t=e.data,n=d(e.provider,t.prefix);if(!f(n,t).length)return!1;const r=t.lastModified||-1;return n.lastModifiedCached=n.lastModifiedCached?Math.min(n.lastModifiedCached,r):r,!0}))}}function X(e,t){switch(e){case"local":case"session":O[e]=t;break;case"all":for(const e in O)O[e]=t}}const Y=Object.create(null);function J(e,t){Y[e]=t}function G(e){return Y[e]||Y[""]}function K(e){let t;if("string"==typeof e.resources)t=[e.resources];else if(t=e.resources,!(t instanceof Array&&t.length))return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout}}const ee=Object.create(null),te=["https://api.simplesvg.com","https://api.unisvg.com"],ne=[];for(;te.length>0;)1===te.length||Math.random()>.5?ne.push(te.shift()):ne.push(te.pop());function re(e,t){const n=K(t);return null!==n&&(ee[e]=n,!0)}function ie(e){return ee[e]}ee[""]=K({resources:["https://api.iconify.design"].concat(ne)});let oe=(()=>{let e;try{if(e=fetch,"function"==typeof e)return e}catch(e){}})();const se={prepare:(e,t,n)=>{const r=[],i=function(e,t){const n=ie(e);if(!n)return 0;let r;if(n.maxURL){let e=0;n.resources.forEach((t=>{const n=t;e=Math.max(e,n.length)}));const i=t+".json?icons=";r=n.maxURL-e-n.path.length-i.length}else r=0;return r}(e,t),o="icons";let s={type:o,provider:e,prefix:t,icons:[]},a=0;return n.forEach(((n,l)=>{a+=n.length+1,a>=i&&l>0&&(r.push(s),s={type:o,provider:e,prefix:t,icons:[]},a=n.length),s.icons.push(n)})),r.push(s),r},send:(e,t,n)=>{if(!oe)return void n("abort",424);let r=function(e){if("string"==typeof e){const t=ie(e);if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":{const e=t.prefix,n=t.icons.join(",");r+=e+".json?"+new URLSearchParams({icons:n}).toString();break}case"custom":{const e=t.uri;r+="/"===e.slice(0,1)?e.slice(1):e;break}default:return void n("abort",400)}let i=503;oe(e+r).then((e=>{const t=e.status;if(200===t)return i=501,e.json();setTimeout((()=>{n(function(e){return 404===e}(t)?"abort":"next",t)}))})).then((e=>{"object"==typeof e&&null!==e?setTimeout((()=>{n("success",e)})):setTimeout((()=>{404===e?n("abort",e):n("next",i)}))})).catch((()=>{n("next",i)}))}};function ae(e,t){e.forEach((e=>{const n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter((e=>e.id!==t)))}))}let le=0;var ce={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ue(e){const t={...ce,...e};let n=[];function r(){n=n.filter((e=>"pending"===e().status))}const i={query:function(e,i,o){const s=function(e,t,n,r){const i=e.resources.length,o=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let t=e.resources.slice(0);for(s=[];t.length>1;){const e=Math.floor(Math.random()*t.length);s.push(t[e]),t=t.slice(0,e).concat(t.slice(e+1))}s=s.concat(t)}else s=e.resources.slice(o).concat(e.resources.slice(0,o));const a=Date.now();let l,c="pending",u=0,p=null,h=[],d=[];function f(){p&&(clearTimeout(p),p=null)}function g(){"pending"===c&&(c="aborted"),f(),h.forEach((e=>{"pending"===e.status&&(e.status="aborted")})),h=[]}function m(e,t){t&&(d=[]),"function"==typeof e&&d.push(e)}function y(){c="failed",d.forEach((e=>{e(void 0,l)}))}function b(){h.forEach((e=>{"pending"===e.status&&(e.status="aborted")})),h=[]}return"function"==typeof r&&d.push(r),setTimeout((function r(){if("pending"!==c)return;f();const i=s.shift();if(void 0===i)return h.length?void(p=setTimeout((()=>{f(),"pending"===c&&(b(),y())}),e.timeout)):void y();const o={status:"pending",resource:i,callback:(t,n)=>{!function(t,n,i){const o="success"!==n;switch(h=h.filter((e=>e!==t)),c){case"pending":break;case"failed":if(o||!e.dataAfterTimeout)return;break;default:return}if("abort"===n)return l=i,void y();if(o)return l=i,void(h.length||(s.length?r():y()));if(f(),b(),!e.random){const n=e.resources.indexOf(t.resource);-1!==n&&n!==e.index&&(e.index=n)}c="completed",d.forEach((e=>{e(i)}))}(o,t,n)}};h.push(o),u++,p=setTimeout(r,e.rotate),n(i,t,o.callback)})),function(){return{startTime:a,payload:t,status:c,queriesSent:u,queriesPending:h.length,subscribe:m,abort:g}}}(t,e,i,((e,t)=>{r(),o&&o(e,t)}));return n.push(s),s},find:function(e){return n.find((t=>e(t)))||null},setIndex:e=>{t.index=e},getIndex:()=>t.index,cleanup:r};return i}function pe(){}const he=Object.create(null);function de(e,t,n){let r,i;if("string"==typeof e){const t=G(e);if(!t)return n(void 0,424),pe;i=t.send;const o=function(e){if(!he[e]){const t=ie(e);if(!t)return;const n={config:t,redundancy:ue(t)};he[e]=n}return he[e]}(e);o&&(r=o.redundancy)}else{const t=K(e);if(t){r=ue(t);const n=G(e.resources?e.resources[0]:"");n&&(i=n.send)}}return r&&i?r.query(t,i,n)().abort:(n(void 0,424),pe)}function fe(){}const ge=(e,t)=>{const n=function(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort(((e,t)=>e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name)));let r={provider:"",prefix:"",name:""};return e.forEach((e=>{if(r.name===e.name&&r.prefix===e.prefix&&r.provider===e.provider)return;r=e;const i=e.provider,o=e.prefix,s=e.name,a=n[i]||(n[i]=Object.create(null)),l=a[o]||(a[o]=d(i,o));let c;c=s in l.icons?t.loaded:""===o||l.missing.has(s)?t.missing:t.pending;const u={provider:i,prefix:o,name:s};c.push(u)})),t}(function(e,t=!0,n=!1){const r=[];return e.forEach((e=>{const i="string"==typeof e?l(e,t,n):e;i&&r.push(i)})),r}(e,!0,m));if(!n.pending.length){let e=!0;return t&&setTimeout((()=>{e&&t(n.loaded,n.missing,n.pending,fe)})),()=>{e=!1}}const r=Object.create(null),i=[];let o,s;return n.pending.forEach((e=>{const{provider:t,prefix:n}=e;if(n===s&&t===o)return;o=t,s=n,i.push(d(t,n));const a=r[t]||(r[t]=Object.create(null));a[n]||(a[n]=[])})),n.pending.forEach((e=>{const{provider:t,prefix:n,name:i}=e,o=d(t,n),s=o.pendingIcons||(o.pendingIcons=new Set);s.has(i)||(s.add(i),r[t][n].push(i))})),i.forEach((e=>{const{provider:t,prefix:n}=e;r[t][n].length&&function(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout((()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:n}=e,r=e.iconsToLoad;let i;delete e.iconsToLoad,r&&(i=G(t))&&i.prepare(t,n,r).forEach((n=>{de(t,n,(t=>{if("object"!=typeof t)n.icons.forEach((t=>{e.missing.add(t)}));else try{const n=f(e,t);if(!n.length)return;const r=e.pendingIcons;r&&n.forEach((e=>{r.delete(e)})),function(e,t){function n(n){let r;if(!O[n]||!(r=Q(n)))return;const i=M[n];let o;if(i.size)i.delete(o=Array.from(i).shift());else if(o=B(r),!U(r,o+1))return;const s={cached:Math.floor(Date.now()/D),provider:e.provider,data:t};return H(r,_+o.toString(),JSON.stringify(s))}j||Z(),t.lastModified&&!function(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const n in O)V(n,(n=>{const r=n.data;return n.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===t}));return!0}(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&delete(t=Object.assign({},t)).not_found,n("local")||n("session"))}(e,t)}catch(e){}!function(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout((()=>{e.iconsLoaderFlag=!1,function(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout((()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach((t=>{const o=t.icons,s=o.pending.length;o.pending=o.pending.filter((t=>{if(t.prefix!==i)return!0;const s=t.name;if(e.icons[s])o.loaded.push({provider:r,prefix:i,name:s});else{if(!e.missing.has(s))return n=!0,!0;o.missing.push({provider:r,prefix:i,name:s})}return!1})),o.pending.length!==s&&(n||ae([e],t.id),t.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),t.abort))}))})))}(e)})))}(e)}))}))})))}(e,r[t][n])})),t?function(e,t,n){const r=le++,i=ae.bind(null,n,r);if(!t.pending.length)return i;const o={id:r,icons:t,callback:e,abort:i};return n.forEach((e=>{(e.loaderCallbacks||(e.loaderCallbacks=[])).push(o)})),i}(t,n,i):fe},me=e=>new Promise(((t,n)=>{const i="string"==typeof e?l(e,!0):e;i?ge([i||e],(o=>{if(o.length&&i){const e=y(i);if(e)return void t({...r,...e})}n(e)})):n(e)}));function ye(e,t){const n={...e};for(const e in t){const r=t[e],i=typeof r;e in v?(null===r||r&&("string"===i||"number"===i))&&(n[e]=r):i===typeof n[e]&&(n[e]="rotate"===e?r%4:r)}return n}const be={...C,inline:!1},we="iconify",ke="iconify-inline",xe="iconifyData"+Date.now();let ve=[];function Ce(e){for(let t=0;t<ve.length;t++){const n=ve[t];if(("function"==typeof n.node?n.node():n.node)===e)return n}}function Ae(e,t=!1){let n=Ce(e);return n?(n.temporary&&(n.temporary=t),n):(n={node:e,temporary:t},ve.push(n),n)}function Se(){return ve}let Ee=null;const Te={childList:!0,subtree:!0,attributes:!0};function Le(e){if(!e.observer)return;const t=e.observer;t.pendingScan||(t.pendingScan=setTimeout((()=>{delete t.pendingScan,Ee&&Ee(e)})))}function Ie(e,t){if(!e.observer)return;const n=e.observer;if(!n.pendingScan)for(let r=0;r<t.length;r++){const i=t[r];if(i.addedNodes&&i.addedNodes.length>0||"attributes"===i.type&&void 0!==i.target[xe])return void(n.paused||Le(e))}}function $e(e,t){e.observer.instance.observe(t,Te)}function Pe(e){let t=e.observer;if(t&&t.instance)return;const n="function"==typeof e.node?e.node():e.node;n&&window&&(t||(t={paused:0},e.observer=t),t.instance=new window.MutationObserver(Ie.bind(null,e)),$e(e,n),t.paused||Le(e))}function Oe(){Se().forEach(Pe)}function Me(e){if(!e.observer)return;const t=e.observer;t.pendingScan&&(clearTimeout(t.pendingScan),delete t.pendingScan),t.instance&&(t.instance.disconnect(),delete t.instance)}function je(e){(e?[e]:Se()).forEach((e=>{if(!e.observer)return void(e.observer={paused:1});const t=e.observer;t.paused++,t.paused>1||!t.instance||t.instance.disconnect()}))}function Re(e){if(e){const t=Ce(e);t&&je(t)}else je()}function _e(e){(e?[e]:Se()).forEach((e=>{if(!e.observer)return void Pe(e);const t=e.observer;if(t.paused&&(t.paused--,!t.paused)){const n="function"==typeof e.node?e.node():e.node;if(!n)return;t.instance?$e(e,n):Pe(e)}}))}function ze(e){if(e){const t=Ce(e);t&&_e(t)}else _e()}function Ne(e,t=!1){const n=Ae(e,t);return Pe(n),n}function De(e){const t=Ce(e);t&&(Me(t),function(e){ve=ve.filter((t=>e!==t&&e!==("function"==typeof t.node?t.node():t.node)))}(e))}const Fe=/[\s,]+/,He=["width","height"],qe=["inline","hFlip","vFlip"];const Ue="svg."+we+", i."+we+", span."+we+", i."+ke+", span."+ke;function Be(e,t){let n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t)n+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}let We;function Qe(e){const t=new Set(["iconify"]);return["provider","prefix"].forEach((n=>{e[n]&&t.add("iconify--"+e[n])})),t}function Ve(e,t,n,r){const i=e.classList;if(r){const e=r.classList;Array.from(e).forEach((e=>{i.add(e)}))}const o=[];return t.forEach((e=>{i.contains(e)?n.has(e)&&o.push(e):(i.add(e),o.push(e))})),n.forEach((e=>{t.has(e)||i.remove(e)})),o}function Ze(e,t,n){const r=e.style;(n||[]).forEach((e=>{r.removeProperty(e)}));const i=[];for(const e in t)r.getPropertyValue(e)||(i.push(e),r.setProperty(e,t[e]));return i}function Xe(e,t,n){let r;try{r=document.createElement("span")}catch(t){return e}const i=t.customisations,o=T(n,i),s=e[xe],a=Be(P(o.body),{"aria-hidden":"true",role:"img",...o.attributes});r.innerHTML=function(e){return void 0===We&&function(){try{We=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch(e){We=null}}(),We?We.createHTML(e):e}(a);const l=r.childNodes[0],c=e.attributes;for(let e=0;e<c.length;e++){const t=c.item(e),n=t.name;"class"===n||l.hasAttribute(n)||l.setAttribute(n,t.value)}const u=Ve(l,Qe(t.icon),new Set(s&&s.addedClasses),e),p=Ze(l,i.inline?{"vertical-align":"-0.125em"}:{},s&&s.addedStyles),h={...t,status:"loaded",addedClasses:u,addedStyles:p};return l[xe]=h,e.parentNode&&e.parentNode.replaceChild(l,e),l}const Ye={display:"inline-block"},Je={"background-color":"currentColor"},Ge={"background-color":"transparent"},Ke={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},et={"-webkit-mask":Je,mask:Je,background:Ge};for(const e in et){const t=et[e];for(const n in Ke)t[e+"-"+n]=Ke[n]}function tt(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}let nt=!1;function rt(){nt||(nt=!0,setTimeout((()=>{nt&&(nt=!1,it())})))}function it(e,t=!1){const n=Object.create(null);function i(e,t){const{provider:r,prefix:i,name:o}=e,s=d(r,i),a=s.icons[o];if(a)return{status:"loaded",icon:a};if(s.missing.has(o))return{status:"missing"};if(t&&!(e=>{const t=d(e.provider,e.prefix).pendingIcons;return!(!t||!t.has(e.name))})(e)){const e=n[r]||(n[r]=Object.create(null));(e[i]||(e[i]=new Set)).add(o)}return{status:"loading"}}(e?[e]:Se()).forEach((e=>{const n="function"==typeof e.node?e.node():e.node;if(!n||!n.querySelectorAll)return;let o=!1,s=!1;function a(t,n,i){if(s||(s=!0,je(e)),"SVG"!==t.tagName.toUpperCase()){const e=n.mode,o="mask"===e||"bg"!==e&&("style"===e?-1!==i.body.indexOf("currentColor"):null);if("boolean"==typeof o)return void function(e,t,n,r){const i=t.customisations,o=T(n,i),s=o.attributes,a=e[xe],l=Be(o.body,{...s,width:n.width+"",height:n.height+""}),c=Ve(e,Qe(t.icon),new Set(a&&a.addedClasses)),u={"--svg":'url("'+(p=l,"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(p)+'")'),width:tt(s.width),height:tt(s.height),...Ye,...r?Je:Ge};var p;i.inline&&(u["vertical-align"]="-0.125em");const h=Ze(e,u,a&&a.addedStyles),d={...t,status:"loaded",addedClasses:c,addedStyles:h};e[xe]=d}(t,n,{...r,...i},o)}Xe(t,n,i)}(function(e){const t=[];return e.querySelectorAll(Ue).forEach((e=>{const n=e[xe]||"svg"!==e.tagName.toLowerCase()?function(e){const t=e.getAttribute("data-icon"),n="string"==typeof t&&l(t,!0);if(!n)return null;const r={...be,inline:e.classList&&e.classList.contains(ke)};He.forEach((t=>{const n=e.getAttribute("data-"+t);n&&(r[t]=n)}));const i=e.getAttribute("data-rotate");"string"==typeof i&&(r.rotate=function(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(e){for(;e<0;)e+=4;return e%4}if(""===n){const t=parseInt(e);return isNaN(t)?0:r(t)}if(n!==e){let t=0;switch(n){case"%":t=25;break;case"deg":t=90}if(t){let i=parseFloat(e.slice(0,e.length-n.length));return isNaN(i)?0:(i/=t,i%1==0?r(i):0)}}return t}(i));const o=e.getAttribute("data-flip");"string"==typeof o&&function(e,t){t.split(Fe).forEach((t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}}))}(r,o),qe.forEach((t=>{const n="data-"+t,i=function(e,t){return e===t||"true"===e||""!==e&&"false"!==e&&null}(e.getAttribute(n),n);"boolean"==typeof i&&(r[t]=i)}));const s=e.getAttribute("data-mode");return{name:t,icon:n,customisations:r,mode:s}}(e):null;n&&t.push({node:e,props:n})})),t})(n).forEach((({node:e,props:t})=>{const n=e[xe];if(!n){const{status:n,icon:r}=i(t.icon,!0);return r?void a(e,t,r):(o=o||"loading"===n,void(e[xe]={...t,status:n}))}let r;if(function(e,t){if(e.name!==t.name||e.mode!==t.mode)return!0;const n=e.customisations,r=t.customisations;for(const e in be)if(n[e]!==r[e])return!0;return!1}(n,t)){if(r=i(t.icon,n.name!==t.name),!r.icon)return o=o||"loading"===r.status,void Object.assign(n,{...t,status:r.status})}else{if("loading"!==n.status)return;if(r=i(t.icon,!1),!r.icon)return void(n.status=r.status)}a(e,t,r.icon)})),e.temporary&&!o?De(n):t&&o?Ne(n,!0):s&&e.observer&&_e(e)}));for(const e in n){const t=n[e];for(const n in t){const r=t[n];ge(Array.from(r).map((t=>({provider:e,prefix:n,name:t}))),rt)}}}function ot(e,t,n=!1){const r=y(e);if(!r)return null;const i=l(e),o=ye(be,t||{}),s=Xe(document.createElement("span"),{name:e,icon:i,customisations:o},r);return n?s.outerHTML:s}function st(){return"3.1.1"}function at(e,t){return ot(e,t,!1)}function lt(e,t){return ot(e,t,!0)}function ct(e,t){const n=y(e);return n?T(n,ye(be,t||{})):null}function ut(e){e?function(e){const t=Ce(e);t?it(t):it({node:e,temporary:!0},!0)}(e):it()}if("undefined"!=typeof document&&"undefined"!=typeof window){!function(){if(document.documentElement)return Ae(document.documentElement);ve.push({node:()=>document.documentElement})}();const e=window;if(void 0!==e.IconifyPreload){const t=e.IconifyPreload;"object"==typeof t&&null!==t&&(t instanceof Array?t:[t]).forEach((e=>{try{"object"!=typeof e||null===e||e instanceof Array||"object"!=typeof e.icons||"string"!=typeof e.prefix||w(e)}catch(e){}}))}setTimeout((()=>{(function(e){const t=null!==Ee;Ee!==e&&(Ee=e,t&&Se().forEach(Me)),t?Oe():function(e){const t=document;t.readyState&&"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}(Oe)})(it),it()}))}function pt(e,t){X(e,!1!==t)}function ht(e){X(e,!0)}if(J("",se),"undefined"!=typeof document&&"undefined"!=typeof window){Z();const t=window;if(void 0!==t.IconifyProviders){const n=t.IconifyProviders;if("object"==typeof n&&null!==n)for(const t in n){try{const e=n[t];if("object"!=typeof e||!e||void 0===e.resources)continue;re(t,e)}catch(e){}}}}const dt={getAPIConfig:ie,setAPIModule:J,sendAPIQuery:de,setFetch:function(e){oe=e},getFetch:function(){return oe},listAPIProviders:function(){return Object.keys(ee)}},ft={_api:dt,addAPIProvider:re,loadIcons:ge,loadIcon:me,iconExists:k,getIcon:x,listIcons:g,addIcon:b,addCollection:w,replaceIDs:P,calculateSize:E,buildIcon:T,getVersion:st,renderSVG:at,renderHTML:lt,renderIcon:ct,scan:ut,observe:Ne,stopObserving:De,pauseObserver:Re,resumeObserver:ze,enableCache:pt,disableCache:ht};return e._api=dt,e.addAPIProvider=re,e.addCollection=w,e.addIcon=b,e.buildIcon=T,e.calculateSize=E,e.default=ft,e.disableCache=ht,e.enableCache=pt,e.getIcon=x,e.getVersion=st,e.iconExists=k,e.listIcons=g,e.loadIcon=me,e.loadIcons=ge,e.observe=Ne,e.pauseObserver=Re,e.renderHTML=lt,e.renderIcon=ct,e.renderSVG=at,e.replaceIDs=P,e.resumeObserver=ze,e.scan=ut,e.stopObserving=De,Object.defineProperty(e,"__esModule",{value:!0}),e}({});if("object"==typeof exports)try{for(var S in exports.__esModule=!0,exports.default=A,A)exports[S]=A[S]}catch(x){}try{void 0===self.Iconify&&(self.Iconify=A)}catch(x){}if(void 0===A)A=void 0;const E={initialized:!1,contentFiles:[],loadingFiles:new Set,loadingPromises:new Map,async init(e){if(!this.initialized)try{if(!e.appData)throw new Error("App data must be loaded before content initialization");this.contentFiles=e.appData.content||[],this.initialized=!0}catch(e){throw e}},async loadContentFile(e,t){if(this.loadingPromises.has(t))return this.loadingPromises.get(t);const n=(async()=>{try{if(this.loadingFiles.add(t),"app"===t){const e=await fetch("/content/app.yaml");if(!e.ok)return null;const t=await e.text();return v.load(t)}this.contentFiles||await this.init(e);const n=e?.currentLang,r=e?.defaultLang,i=[n&&`${n}.${t}`,r&&n!==r&&`${r}.${t}`,t].filter(Boolean);let o=null,s=null;for(const e of i)if(this.contentFiles.includes(e)){const t=`/content/${e}.yaml`;try{const n=await fetch(t);if(n.ok){const t=await n.text();o=v.load(t),s=e;break}}catch(e){}}if(!o)return null;if(Array.isArray(o)){const n=o.map((e=>({...e,contentType:t,_loadedFrom:s})));e.x.all||(e.x.all=[]),e.x.all=e.x.all.filter((e=>e.contentType!==t)),e.x.all.push(...n)}else"object"==typeof o&&(o={...o,contentType:t,_loadedFrom:s});return e.x&&(e.x[t]=o),o}catch(e){return null}finally{this.loadingFiles.delete(t),this.loadingPromises.delete(t)}})();return this.loadingPromises.set(t,n),n},async loadContent(e){try{this.initialized||await this.init(e),e.x||(e.x={all:[]}),e.pg||(e.pg={});const t=new Set;e.appData?.pages?.forEach((e=>{if(e.pathContent){(Array.isArray(e.pathContent)?e.pathContent:[e.pathContent]).forEach((e=>t.add(e)))}}));const n=document.querySelector("template");if(n){const e=n.innerHTML;this.extractContentTypes(e).forEach((e=>t.add(e)))}const r=Array.from(t).map((async t=>{const n=await this.loadContentFile(e,t);n&&(e.x[t]=n,Array.isArray(n)&&e.x.all.push(...n))}));return await Promise.all(r),!0}catch(e){return!1}},async parseMarkdown(e,t){if("string"==typeof t&&(t.startsWith("x.")||t.startsWith("pg."))){const n=t.startsWith("x.")?e.x:e.pg,r=t.substring(2),i=this._parseContentPath(r);let o=n;for(const e of i){if(void 0===o)return`Content not found: ${t}`;o=o[e]}t=o}const n=await(async e=>{if("string"==typeof e&&(e.startsWith("/")||e.startsWith("http")))try{const t=await fetch(e);return await t.text()}catch(e){return"Error loading content"}return e})(t);return C.parse(n)},extractContentTypes(e){const t=e.match(/x\.(\w+)/g)||[];return[...new Set(t.map((e=>e.split(".")[1])))]},async resolveDynamicContent(e,t,n){const r=Array.isArray(t?.pathContent)?t.pathContent:[t?.pathContent].filter(Boolean);for(const t of r){const r=await this.ensureContentLoaded(e,t);if(!n){e.pg[t]=r;continue}const i=n.split("/").filter(Boolean),o=i[i.length-1],s=(e,t)=>{if(!e)return null;if(e.path===t)return e;if(Array.isArray(e))for(const n of e){const e=s(n,t);if(e)return e}if("object"==typeof e)for(const[n,r]of Object.entries(e)){const e=s(r,t);if(e){const t={};return t[n]=e,t}}return null},a=s(r,o);a&&(e.pg[t]=a)}},detectPageContentReferences(e,t){const n=t.split("/").filter(Boolean)[0]||"home",r=e.appData?.pages?.find((e=>e.page===n));let i=[];return r&&r.pathContent&&(i=Array.isArray(r.pathContent)?r.pathContent:[r.pathContent]),i},async loadPageContent(e,t){const n=this.extractContentTypes(t),r={},i=Alpine.store("app");for(const e of n){const t=await this.loadContentFile(i,e);t&&(r[e]=t)}return r},async resolveContent(e,t){if("string"!=typeof t||!t.startsWith("$x."))return t;const n=t.substring(3),r=this._parseContentPath(n);let i=e.x;for(const e of r){if(void 0===i)return null;i=i[e]}return i},_parseContentPath(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];"["===o?(n&&(t.push(n),n=""),r=!0):"]"===o?(n&&(t.push(parseInt(n)),n=""),r=!1):"."!==o||r?n+=o:n&&(t.push(n),n="")}return n&&t.push(n),t},async ensureContentLoaded(e,t){if(!e.x[t]){const n=await this.loadContentFile(e,t);n&&(e.x[t]=n)}return e.x[t]}},T={appStore:null,init(e){return this.appStore=e,this},initCookieConsent(e){if(!e.cookies||0===e.cookies.length)return;const t=JSON.parse(localStorage.getItem("cookieConsent"));t&&t.hasOwnProperty("_userChoice")?(e.cookieConsent.preferences=t,e.cookieConsent.show=!1):(e.cookieConsent.preferences=Object.fromEntries(e.cookies.map((e=>[e.type,!1]))),e.cookieConsent.show=!0),this.applyCookiePreferences(e)},showCookiePopover(e){e.cookieConsent.show=!0},hideCookiePopover(e){e.cookieConsent.show=!1},setCookiePreferences(e,t){e.cookieConsent.preferences={...t,_userChoice:!0},localStorage.setItem("cookieConsent",JSON.stringify(e.cookieConsent.preferences)),this.applyCookiePreferences(e)},acceptAllCookies(e){const t=Object.fromEntries(e.cookies.map((e=>[e.type,!0])));this.setCookiePreferences(e,t),e.cookieConsent.show=!1},declineCookies(e){const t=Object.fromEntries(e.cookies.map((e=>[e.type,!1])));this.setCookiePreferences(e,t),e.cookieConsent.show=!1},saveCustomPreferences(e){this.setCookiePreferences(e,e.cookieConsent.preferences),e.cookieConsent.show=!1},toggleCookieType(e,t){e.cookieConsent.preferences[t]=!e.cookieConsent.preferences[t]},applyCookiePreferences(e){e.appData.globalHead?.scripts&&e.appData.globalHead.scripts.forEach((t=>{t.cookie&&(e.cookieConsent.preferences[t.cookie]?this.loadScript(t):this.unloadScript(t))})),e.appData.pages&&e.appData.pages.forEach((t=>{t.head?.scripts&&t.head.scripts.forEach((t=>{t.cookie&&(e.cookieConsent.preferences[t.cookie]?this.loadScript(t):this.unloadScript(t))}))}))},loadScript(e){if(!document.querySelector(`script[src="${e.src}"]`)){const t=document.createElement("script");t.src=e.src,Object.keys(e).forEach((n=>{"src"!==n&&"cookie"!==n&&t.setAttribute(n,e[n])})),document.head.appendChild(t)}},unloadScript(e){const t=document.querySelector(`script[src="${e.src}"]`);t&&t.remove()},async injectCookiesComponent(e){try{e.appData||await e.loadAppData();const t=await fetch("/components/cookies.html");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),r=document.createElement("div");r.innerHTML=n;const i=r.querySelector("#cookies");if(!i)throw new Error("Cookies div not found in the component HTML");const o=i.getAttribute("x-data")||"{}";let s;try{s=new Function(`return ${o}`)()}catch(e){s={}}const a={...s,cookieConsent:Alpine.reactive(e.cookieConsent),cookies:e.cookies,acceptAllCookies:()=>e.acceptAllCookies(),declineCookies:()=>e.declineCookies(),saveCustomPreferences:()=>e.saveCustomPreferences(),toggleCookieType:t=>e.toggleCookieType(t)};i.setAttribute("x-data",JSON.stringify(a));const l=document.getElementById("cookies");l&&l.remove(),document.body.appendChild(i),this.initCookieConsent(e)}catch(e){}}};let L=!1,I=!1;const $={pg:{},x:{},theme:e.theme,appData:null,currentPage:null,initialized:!1,navigateTo:m.navigateTo.bind(m),extractRouteParams:m.extractRouteParams.bind(m),findMatchingPage:m.findMatchingPage.bind(m),parseQueryString:m.parseQueryString.bind(m),clearQueryParams:m.clearQueryParams.bind(m),mergeXData:m.mergeXData.bind(m),parseXData:m.parseXData.bind(m),executePageScripts:m.executePageScripts.bind(m),handleRoute(){return m.handleRoute(this)},setCache:s.setCache.bind(s),getCache:s.getCache.bind(s),clearCache(){Object.keys(localStorage).filter((e=>e.startsWith(CACHE_PREFIX))).forEach((e=>localStorage.removeItem(e)))},handleIconElement:r.handleIconElement.bind(r),applyHeadContent:l.applyHeadContent.bind(l),applyMetaTags:l.applyMetaTags.bind(l),applyGlobalHead:l.applyGlobalHead.bind(l),applyOpenGraphTag:l.applyOpenGraphTag.bind(l),applyTwitterTag:l.applyTwitterTag.bind(l),initTheme:e.initTheme,setTheme:e.setTheme,applyTheme:e.applyTheme,currentLang:null,defaultLang:null,isLocalized:!1,setLocale:y.setLocale,detectLocaleFromUrl:y.detectLocaleFromUrl,removeLanguageFromPath:y.removeLanguageFromPath,getLocalizedUrl:y.getLocalizedUrl,componentCache:a.componentCache,usedComponents:a.usedComponents,commonComponents:a.commonComponents,componentLoadQueue:a.componentLoadQueue,processComponents:a.processComponents.bind(a),loadComponent:a.loadComponent.bind(a),lazyLoadComponent:a.lazyLoadComponent.bind(a),updateConditionalComponents:a.updateConditionalComponents.bind(a),contentManager:E,contentPaths:{},async loadContent(){if(this._loadingContent)return!1;this._loadingContent=!0;try{const e=await E.loadContent(this);return e&&window.Alpine&&w.initialized&&Alpine.nextTick((()=>{w.updateStore("x",this.x),w.updateStore("pg",this.pg)})),e}catch(e){return!1}finally{this._loadingContent=!1}},loadContentFile(e,t,n){return E.loadContentFile(this,e,t,n)},parseMarkdown(e){return E.parseMarkdown(this,e)},extractContentTypes:E.extractContentTypes.bind(E),resolveDynamicContent(e){return E.resolveDynamicContent(this,e)},detectPageContentReferences(e){return E.detectPageContentReferences(this,e)},cookies:[],cookieConsent:{show:!0,preferences:{},customizeCookies:!1,toggle(){this.show=!this.show}},initCookieConsent(){T.initCookieConsent(this)},showCookiePopover(){T.showCookiePopover(this)},hideCookiePopover(){T.hideCookiePopover(this)},setCookiePreferences(e){T.setCookiePreferences(this,e)},acceptAllCookies(){T.acceptAllCookies(this)},declineCookies(){T.declineCookies(this)},saveCustomPreferences(){T.saveCustomPreferences(this)},toggleCookieType(e){T.toggleCookieType(this,e)},applyCookiePreferences(){T.applyCookiePreferences(this)},injectCookiesComponent(){return T.injectCookiesComponent(this)},auth:{isAuthenticated:!1,user:null,roles:[],redirectPath:null},async checkAuth(){const e=Alpine.store("auth");return e?.isAuthenticated||!1},async handleAuthRedirect(){const e=sessionStorage.getItem("authRedirect");e&&(sessionStorage.removeItem("authRedirect"),await this.navigateTo(e))},async init(){if(!I){I=!0;try{await f.runHook("beforeInit",this),await this.loadAppData(),await E.init(this),await w.initializeAlpine(this),await Promise.all([a.init(this),e.initTheme(),r.init()]),n.setRouteHandler(this.handleRoute.bind(this)),await f.runHook("afterInit",this),await this.handleRoute(),L=!0}catch(e){throw L=!1,e}finally{I=!1}}},async loadEnvironmentConfig(){try{if(this.config?.environments){const e=this.detectEnvironment();return this.config.environments[e]}return{domain:window.location.host,api:window.location.origin,auth:{autoLogin:!1,endpoints:{base:"/api"}}}}catch(e){return{}}},detectEnvironment(){if(process.env.NODE_ENV)return process.env.NODE_ENV;const e=window.location.hostname;return"localhost"===e||e.includes(".local")?"development":e.includes("staging")||e.includes("-test")?"staging":"production"},async loadAppData(){try{const e=await fetch("/content/app.yaml");if(!e.ok)throw new Error(`Failed to fetch app.yaml: ${e.status}`);const t=await e.text();if(this.appData=v.load(t),!this.appData)throw new Error("Failed to parse app.yaml");if(!this.appData.pages||!Array.isArray(this.appData.pages))throw new Error("No pages configured in app.yaml");return this.isLocalized=!!this.appData.locales,this.isLocalized&&(this.defaultLang=this.appData.locales[0].code,this.currentLang=this.detectLocaleFromUrl()||this.defaultLang),await this.loadContent(),this.appData.defaultMeta&&await l.applyMetaTags(this.appData.defaultMeta,this),this.appData.globalHead&&await l.applyHeadContent(this.appData.globalHead,this),this.cookies=this.appData.cookies||[],!this.cookies||this.cookies.length,this.cookieConsent={preferences:Object.fromEntries(this.cookies.map((e=>[e.type,!1])))},this.appData.commonComponents&&(this.commonComponents=this.appData.commonComponents),!0}catch(e){throw e}},async loadPage(e,t){try{if(!1===await f.runHook("beforePageLoad",{pageName:e,path:t},this))return!1;const n=await m.loadPage(this,e,t);return await f.runHook("afterPageLoad",{pageName:e,path:t,success:n},this),n}catch(e){return!1}},async handleRoute(){try{if(!1===await f.runHook("beforeRoute",{path:window.location.pathname},this))return!1;const e=await m.handleRoute(this);return await f.runHook("afterRoute",{path:window.location.pathname,success:e,page:this.currentPage},this),e}catch(e){return!1}}};function P(e){e.magic("toast",(()=>{const e=(e,{type:n="",duration:r=3e3,dismissible:i=!1,fixed:o=!1,icon:s=null}={})=>{const a=(()=>{let e=document.querySelector(".toast-container");return e||(e=document.createElement("div"),e.className="toast-container",document.body.appendChild(e)),e})(),l=document.createElement("div");l.setAttribute("role","alert"),l.setAttribute("class",n?`toast-${n}`:"toast");const c=`\n                ${s?'<span class="toast-icon"></span>':""}\n                <div class="toast-content">${e}</div>\n                ${i||o?'<button class="toast-dismiss-button" aria-label="Dismiss">&times;</button>':""}\n            `;if(l.innerHTML=c,s){l.querySelector(".toast-icon").appendChild((e=>{const t=document.createElement("span");return t.className="iconify",t.setAttribute("data-icon",e),window.Iconify&&window.Iconify.scan(t),t})(s))}if(a.appendChild(l),requestAnimationFrame((()=>{requestAnimationFrame((()=>{l.classList.add("toast-entry")}))})),(i||o)&&l.querySelector(".toast-dismiss-button")?.addEventListener("click",(()=>{t(l)})),!o){const e=setTimeout((()=>{t(l)}),r);l.addEventListener("mouseenter",(()=>{clearTimeout(e)})),l.addEventListener("mouseleave",(()=>{setTimeout((()=>{t(l)}),r/2)}))}},t=e=>{e.classList.remove("toast-entry"),e.classList.add("toast-exit");let t=0;e.addEventListener("transitionend",(n=>{t++,t>=2&&(e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.height="0",e.style.margin="0",e.style.padding="0",e.addEventListener("transitionend",(()=>{e.remove()}),{once:!0}))}))},n=(t,n={})=>{e(t,{...n,type:""})};return n.success=(t,n={})=>{e(t,{...n,type:"success"})},n.error=(t,n={})=>{e(t,{...n,type:"error"})},n.dismiss=(t,n={})=>{e(t,{...n,type:"",dismissible:!0})},n.success.dismiss=(t,n={})=>{e(t,{...n,type:"success",dismissible:!0})},n.error.dismiss=(t,n={})=>{e(t,{...n,type:"error",dismissible:!0})},n.fixed=(t,n={})=>{e(t,{...n,type:"",fixed:!0})},n.success.fixed=(t,n={})=>{e(t,{...n,type:"success",fixed:!0})},n.error.fixed=(t,n={})=>{e(t,{...n,type:"error",fixed:!0})},n}))}function O(e,t){!function(e){e.directive("carousel",((t,{value:n,modifiers:r,expression:i},{evaluate:o,effect:s})=>{const a={carousel:{autoplay:r.includes("autoplay"),interval:3e3,loop:r.includes("loop"),arrows:r.includes("arrows"),dots:r.includes("dots"),thumbnails:r.includes("thumbnails"),enableDrag:!r.includes("no-drag")},currentSlide:0,dragging:!1,startX:0,_slidesCache:[],get slides(){if(!i)return[];const e=o(i);if(!e)return[];if(this._slidesCache.length>0)return this._slidesCache;const t=Array.isArray(e)?e:[e];return this._slidesCache=t,this._slidesCache},get totalSlides(){const e=t.querySelector(".carousel-slides");if(!e)return 0;const n=Array.from(e.children).filter((e=>"TEMPLATE"!==e.tagName)).length;if(i){const e=o(i)||[];return Math.max(n,Array.isArray(e)?e.length:0)}return n},next(){const e=this.totalSlides;this.currentSlide>=e-1?this.carousel.loop&&(this.currentSlide=0):this.currentSlide++},prev(){const e=this.totalSlides;this.currentSlide<=0?this.carousel.loop&&(this.currentSlide=e-1):this.currentSlide--},goToSlide(e){const t=this.totalSlides;e>=0&&e<t&&(this.currentSlide=e)},startDrag(e){this.carousel.enableDrag&&(this.dragging=!0,this.startX="mousedown"===e.type?e.pageX:e.touches[0].pageX)},drag(e){if(!this.dragging)return;e.preventDefault();const t=("mousemove"===e.type?e.pageX:e.touches[0].pageX)-this.startX;Math.abs(t)>50&&(t>0?this.prev():this.next(),this.dragging=!1)},endDrag(){this.dragging=!1},get dots(){return Array.from({length:this.totalSlides},((e,t)=>({index:t,active:t===this.currentSlide})))}};e.bind(t,{"x-data":()=>a,"x-init"(){setTimeout((()=>{const n=t.querySelector(".carousel-slides");if(!n)return;const r=n.querySelector("template[x-for]");if((r||!i)&&(r&&s((()=>{const t=this.slides;if(t.length){this._slidesCache=[],Array.from(n.children).forEach((e=>{e.hasAttribute("x-for-generated")&&e.remove()}));const i=document.createDocumentFragment();t.forEach(((e,t)=>{const n=r.content.cloneNode(!0).firstElementChild;n.setAttribute("x-for-generated","");const o=JSON.stringify(e.image),s=JSON.stringify(e.title);n.setAttribute("x-data",`{\n                                        slide: {\n                                            image: ${o},\n                                            title: ${s}\n                                        },\n                                        index: ${t}\n                                    }`),i.appendChild(n)})),n.insertBefore(i,r),e.effect((()=>{this.dots}))}})),s((()=>{this.slides.length&&(this.currentSlide=this.currentSlide)})),this.carousel.autoplay)){let e;const n=()=>{e=setInterval((()=>this.next()),this.carousel.interval)},r=()=>{clearInterval(e)};n(),t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",n),t._x_cleanups=t._x_cleanups||[],t._x_cleanups.push((()=>{r(),t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",n)}))}}),0)}})}))}(e),function(e){e.directive("dropdown",((t,{modifiers:n,expression:r},{effect:i})=>{let o;if(n.includes("hover")){let e,n;const r=()=>{o&&(clearTimeout(e),clearTimeout(n),o.showPopover())},i=()=>{e=setTimeout((()=>{o&&!o.matches(":hover")&&o.hidePopover()}),150)},s=e=>{if(!o?.matches(":popover-open"))return;const r=t.contains(e.target)||t===e.target,i=o.contains(e.target)||o===e.target;r||i?clearTimeout(n):(clearTimeout(n),n=setTimeout((()=>{o?.hidePopover()}),1e3))};document.addEventListener("mousemove",s),t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",i)}i((()=>{const i=Math.random().toString(36).substr(2,9);if(r&&"TEMPLATE"===document.getElementById(r)?.tagName){const n=document.getElementById(r);o=n.content.cloneNode(!0).firstElementChild;const s=`dropdown-${i}`;o.setAttribute("id",s),document.body.appendChild(o),t.setAttribute("popovertarget",s),e.initTree(o)}else{const e=r||`dropdown-${i}`;if(o=document.getElementById(e),!o)return;t.setAttribute("popovertarget",e)}o.setAttribute("popover","");const s=`--dropdown-${i}`;t.style.setProperty("anchor-name",s),o.style.setProperty("position-anchor",s);const a={"bottom.left":{area:"bottom left",margin:"var(--spacing-popover-offset)"},"bottom.right":{area:"bottom right",margin:"var(--spacing-popover-offset)"},"top.left":{area:"top left",margin:"var(--spacing-popover-offset)"},"top.right":{area:"top right",margin:"var(--spacing-popover-offset)"}},l={"bottom.start":{area:"block-end span-inline-end",margin:"var(--spacing-popover-offset) 0"},"bottom.end":{area:"block-end span-inline-start",margin:"var(--spacing-popover-offset) 0"},"top.start":{area:"block-start span-inline-end",margin:"var(--spacing-popover-offset) 0"},"top.end":{area:"block-start span-inline-start",margin:"var(--spacing-popover-offset) 0"},"left.start":{area:"inline-start span-block-end",margin:"0 var(--spacing-popover-offset)"},"left.end":{area:"inline-start span-block-start",margin:"0 var(--spacing-popover-offset)"},"right.start":{area:"inline-end span-block-end",margin:"0 var(--spacing-popover-offset)"},"right.end":{area:"inline-end span-block-start",margin:"0 var(--spacing-popover-offset)"}},c=["bottom","top","left","right"].find((e=>n.includes(e)));if(!c)return o.style.setProperty("position-area","block-end span-inline-end"),void o.style.setProperty("margin","var(--spacing-popover-offset) 0");const u=["left","right"].find((e=>e!==c&&n.includes(e)));if(u){const e=a[`${c}.${u}`];return o.style.setProperty("position-area",e.area),void o.style.setProperty("margin",e.margin)}const p=["start","end"].find((e=>n.includes(e)));if(p){const e=l[`${c}.${p}`];return o.style.setProperty("position-area",e.area),void o.style.setProperty("margin",e.margin)}const h={bottom:{area:"block-end",margin:"var(--spacing-popover-offset) 0"},top:{area:"block-start",margin:"var(--spacing-popover-offset) 0"},left:{area:"inline-start",margin:"0 var(--spacing-popover-offset)"},right:{area:"inline-end",margin:"0 var(--spacing-popover-offset)"}}[c];if(o.style.setProperty("position-area",h.area),o.style.setProperty("margin",h.margin),o.addEventListener("keydown",(e=>{if("Tab"===e.key){const n=o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!e.shiftKey&&e.target===n[n.length-1]){e.preventDefault(),o.hidePopover();const n=document.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=n[Array.from(n).indexOf(t)+1];r&&r.focus()}e.shiftKey&&e.target===n[0]&&o.hidePopover()}"Escape"===e.key&&(o.hidePopover(),t.focus())})),n.includes("hover")){let e;o.addEventListener("mouseenter",(()=>{clearTimeout(e)})),o.addEventListener("mouseleave",(()=>{e=setTimeout((()=>{o.hidePopover()}),150)}))}n.includes("hover")&&(o.addEventListener("mouseenter",(()=>{clearTimeout(autoCloseTimeout)})),o.addEventListener("mouseleave",(()=>{const e=new MouseEvent("mousemove",{clientX:window.event?.clientX??0,clientY:window.event?.clientY??0});document.dispatchEvent(e)})))}))}))}(e),function(e){e.directive("icon",((e,{expression:t,modifiers:n},{effect:r,evaluateLater:i})=>{const o=n.includes("bind"),s=t.startsWith("$"),a=i(o||s||t.includes("'")||t.includes('"')||t.includes("?")||t.includes(".")?t:`'${t}'`);r((()=>{a((t=>{if(!t)return;let n=e.querySelector("span.iconify");n||(n=document.createElement("span"),n.className="iconify",e.innerHTML="",e.appendChild(n)),n.setAttribute("data-icon",t),window.Iconify&&window.Iconify.scan(n)}))}))}))}(e),function(e,t){e.directive("markdown",((e,{expression:n},{effect:r,evaluateLater:i})=>{let o="",s=!1;const a=e=>{const t=e.split("\n"),n=t.filter((e=>e.trim())).reduce(((e,t)=>{const n=t.match(/^\s*/)[0].length;return Math.min(e,n)}),1/0);return t.map((e=>e.slice(n))).join("\n").trim()},l=async(e,t=null)=>{if(!s){s=!0;try{null!==t&&""!==t.trim()&&(o=a(t));const n=C.parse(o);if(e.innerHTML!==n&&""!==n.trim()){const t=document.createElement("div");for(t.innerHTML=n,e.innerHTML="";t.firstChild;)e.appendChild(t.firstChild)}}finally{s=!1}}};if("inline"===n)return o=a(e.textContent),l(e),void new MutationObserver((t=>{let n=null;for(const r of t)if("childList"===r.type){const t=Array.from(e.childNodes).filter((e=>e.nodeType===Node.TEXT_NODE));if(t.length>0){n=t.map((e=>e.textContent)).join("");break}}else if("characterData"===r.type){n=r.target.textContent;break}n&&""!==n.trim()&&l(e,n)})).observe(e,{characterData:!0,childList:!0,subtree:!0,characterDataOldValue:!0});const c=i(n);r((()=>{c((async r=>{void 0===r&&(r=n);const i=await E.parseMarkdown(t,r);e.innerHTML=i}))}))}))}(e,t),function(e){e.directive("resizable",((e,{modifiers:t,expression:n},{evaluate:r})=>{const i=e=>{if("number"==typeof e)return{value:e,unit:"px"};const t=String(e).match(/^([\d.]+)(.*)$/);return t?{value:parseFloat(t[1]),unit:t[2]||"px"}:{value:0,unit:"px"}},o=(e,t)=>{if("px"===t)return e;const n=document.createElement("div");n.style.visibility="hidden",n.style.position="absolute",n.style.width=`${e}${t}`,document.body.appendChild(n);const r=n.getBoundingClientRect().width;return document.body.removeChild(n),r},s=(t,n)=>{if("px"===n)return t;const r=document.createElement("div");r.style.visibility="hidden",r.style.position="absolute",r.style.width="100px",document.body.appendChild(r);const i=r.getBoundingClientRect().width;switch(document.body.removeChild(r),n){case"%":return t/e.parentElement.getBoundingClientRect().width*100;case"rem":return t/parseFloat(getComputedStyle(document.documentElement).fontSize);case"em":return t/parseFloat(getComputedStyle(e).fontSize);default:return 100*t/i}},a=n?r(n):{},{minWidth:l=200,maxWidth:c=1/0,snapDistance:u=50,snapPoints:p=[],snapCloseWidth:h=200,toggle:d=null,handles:f=["e"],saveWidth:g=null,affectedSelector:m=null}=a,y={min:i(l),max:i(c),close:i(h)},b=p.map((e=>i(e)));if(g){const t=localStorage.getItem(`resizable-${g}`);if(t){const[n,r]=t.split("|");e.style.width=`${n}${r||"px"}`}}const w={n:{cursor:"ns-resize",edge:"top"},s:{cursor:"ns-resize",edge:"bottom"},e:{cursor:"ew-resize",edge:"right"},w:{cursor:"ew-resize",edge:"left"},nw:{cursor:"nw-resize",edges:["top","left"]},ne:{cursor:"ne-resize",edges:["top","right"]},sw:{cursor:"sw-resize",edges:["bottom","left"]},se:{cursor:"se-resize",edges:["bottom","right"]}};f.forEach((t=>{const n=document.createElement("div"),a=document.createElement("div"),l=w[t];let c,p;n.className=`resize-handle resize-handle-${t}`,a.className="resize-handle-inner",n.style.cssText=`\n                position: absolute;\n                width: 10px;\n                height: 10px;\n                cursor: ${l.cursor};\n                z-index: 100;\n            `,t.includes("n")&&(n.style.top="-5px"),t.includes("s")&&(n.style.bottom="-5px"),t.includes("e")&&(n.style.right="-5px"),t.includes("w")&&(n.style.left="-5px"),1===t.length&&("n"===t||"s"===t?(n.style.width="calc(100% + 10px)",n.style.left="-5px"):(n.style.height="calc(100% + 10px)",n.style.top="-5px")),n.appendChild(a);let h=null;const f={min:o(y.min.value,y.min.unit),max:y.max.value===1/0?1/0:o(y.max.value,y.max.unit),close:o(y.close.value,y.close.unit)},k=b.map((e=>({value:o(e.value,e.unit),unit:e.unit}))),x=n=>{if(n.preventDefault(),0===n.buttons)return void C();const a=n.pageX-c,l=m?e.parentElement.querySelector(m):null;let b=p;if(t.includes("e")){if(b=p+a,l&&l.getBoundingClientRect().width-a<(parseInt(getComputedStyle(l).minWidth)||0))return}else if(t.includes("w")&&(b=p-a,l)&&l.getBoundingClientRect().width+a<(parseInt(getComputedStyle(l).minWidth)||0))return;const w=o(i(u).value,i(u).unit);if(b<f.close-50)return e.classList.add("resizable-closing","resizable-closed"),h="closing",void(d&&r(`${d} = false`));if(b=Math.min(Math.max(b,f.min),f.max===1/0?b:f.max),Math.abs(b-f.min)<w)b=f.min,h="min";else for(const e of k)if(Math.abs(b-e.value)<w){b=e.value,h=`${s(b,e.unit)}${e.unit}`;break}const x=s(b,y.min.unit);e.style.width=`${x}${y.min.unit}`,e.classList.remove("resizable-closing","resizable-closed"),d&&r(`${d} = true`),"closing"!==h&&g&&localStorage.setItem(`resizable-${g}`,`${x}|${y.min.unit}`),e.dispatchEvent(new CustomEvent("resize",{detail:{width:s(b,y.min.unit),unit:y.min.unit,snap:h,closing:"closing"===h}}))},v=document.createElement("div");v.style.cssText="\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n                z-index: 9999;\n                display: none;\n                cursor: ew-resize;\n            ",document.body.appendChild(v);const C=t=>{t&&(t.preventDefault(),t.stopPropagation()),document.body.style.userSelect="",document.body.style.webkitUserSelect="",v.style.display="none",document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",C),d&&r(`${d} = ${!e.classList.contains("resizable-closed")}`),h=null};n.addEventListener("mousedown",(t=>{0===t.button&&(t.preventDefault(),t.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",v.style.display="block",c=t.pageX,t.pageY,p=e.getBoundingClientRect().width,e.getBoundingClientRect().height,document.addEventListener("mousemove",x,{passive:!1}),document.addEventListener("mouseup",C))})),e.appendChild(n)})),"static"===getComputedStyle(e).position&&(e.style.position="relative")}))}(e),P(e),function(e){e.directive("tooltip",((t,{modifiers:n,expression:r},{effect:i,evaluateLater:o})=>{let s;if(r.startsWith("$x.")){const t=r.substring(3),[n,...a]=t.split(".");s=o(`\n                (() => {\n                    const store = $store.app;\n                    if (!store.x['${n}']) return '';\n                    \n                    let current = store.x['${n}'];\n                    ${a.map((e=>`\n                        if (!current['${e}']) return '';\n                        current = current['${e}'];\n                    `)).join("")}\n                    return current || '';\n                })()\n            `),i((()=>{const t=e.store("app");t.x[n]||t.contentManager.loadContentFile(t,n).then((r=>{r&&(t.x[n]=r,e.store("x",{...t.x}))}))}))}else s=r.startsWith("'")||r.startsWith('"')?o(r):o(`'${r}'`);i((()=>{const e=Math.random().toString(36).substr(2,9),r=`tooltip-${e}`,i=t.getAttribute("popovertarget"),o=document.createElement("div");o.setAttribute("popover",""),o.setAttribute("id",r),o.setAttribute("class","tooltip");const a=t.style.getPropertyValue("anchor-name"),l=`--tooltip-${e}`;s((e=>{o.textContent=e||""}));const c=n.filter((e=>["top","bottom","left","right"].includes(e)));let u;c.length>0&&o.style.setProperty("position-area",c.join(" ")),document.body.appendChild(o);let p=!1;t.addEventListener("mouseenter",(()=>{p||(u=setTimeout((()=>{p||o.matches(":popover-open")||(a&&(t._originalAnchorName=a),t.style.setProperty("anchor-name",l),o.style.setProperty("position-anchor",l),t.setAttribute("popovertarget",r),o.showPopover())}),500))})),t.addEventListener("mouseleave",(()=>{clearTimeout(u),o.matches(":popover-open")&&(o.hidePopover(),t._originalAnchorName&&t.style.setProperty("anchor-name",t._originalAnchorName),i&&t.setAttribute("popovertarget",i))})),t.addEventListener("mousedown",(()=>{p=!0,clearTimeout(u),o.matches(":popover-open")&&o.hidePopover(),t._originalAnchorName&&t.style.setProperty("anchor-name",t._originalAnchorName),i&&t.setAttribute("popovertarget",i)})),t.addEventListener("mouseup",(()=>{p=!1})),t.addEventListener("click",(e=>{clearTimeout(u),o.matches(":popover-open")&&o.hidePopover(),t._originalAnchorName&&t.style.setProperty("anchor-name",t._originalAnchorName),i&&t.setAttribute("popovertarget",i)}))}))}))}(e);const n=e.evaluate;e.evaluate=function(t,r){return"string"!=typeof r||r.includes("$store")||(r=(r=r.replace(/\$x\.(\w+)(\[\d+\])?/g,((t,n)=>e.store("app").x[n]?`$store.app.x.${n}`:(setTimeout((async()=>{if(!e.store("app").x[n]){const t=await E.loadContentFile(e.store("app"),n);t&&(e.store("app").x[n]=t)}}),0),"undefined")))).replace(/\b(x|pg)\./g,"$store.app.$1.")),n.call(this,t,r)},e.magic("x",(()=>new Proxy({},{get:(t,n)=>{const r=e.store("app");return r.x[n]?Array.isArray(r.x[n])?new Proxy(r.x[n],{get:(e,t)=>{if("string"==typeof t&&!isNaN(t)){const n=e[parseInt(t)];return void 0===n?null:n}return e[t]}}):r.x[n]:(setTimeout((async()=>{if(!r.x[n]){const t=await E.loadContentFile(r,n);t&&(r.x[n]=t,e.effect((()=>{})))}}),0),new Proxy([],{get:(e,t)=>"length"===t?0:"string"!=typeof t||isNaN(t)?void 0:new Proxy({},{get:(e,t)=>{}})}))}})))}document.addEventListener("alpine:init",(()=>{Alpine.directive("for",((e,{expression:t},{effect:n,evaluateLater:r})=>{const i=r(t);n((()=>{i((t=>{const n=(Array.isArray(t)?t:[]).map(((e,t)=>({key:e.id||t,item:e})));updateTemplateContent(e,n)}))}))}))}));let M=!1;!function e(t){window.Alpine?t():setTimeout((()=>e(t)),100)}((async function(){if(!M){M=!0;try{window.Indux={utils:g},"complete"!==document.readyState&&await new Promise((e=>{document.addEventListener("DOMContentLoaded",e)})),await O(Alpine,$),await p.initializeAlpine(),await $.init(),m.initializeRouting($)}catch(e){throw M=!1,e}}}))}();
